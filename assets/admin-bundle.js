(function(q,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],u):(q=typeof globalThis<"u"?globalThis:q||self,u(q.AdminDashboard={},q.React))})(this,function(q,u){"use strict";function Qe(s){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(s){for(const t in s)if(t!=="default"){const r=Object.getOwnPropertyDescriptor(s,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:()=>s[t]})}}return n.default=s,Object.freeze(n)}const L=Qe(u);function et(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var _e={exports:{}},re={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt=u,st=Symbol.for("react.element"),rt=Symbol.for("react.fragment"),nt=Object.prototype.hasOwnProperty,ot=tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,at={key:!0,ref:!0,__self:!0,__source:!0};function Oe(s,n,t){var r,o={},a=null,c=null;t!==void 0&&(a=""+t),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(c=n.ref);for(r in n)nt.call(n,r)&&!at.hasOwnProperty(r)&&(o[r]=n[r]);if(s&&s.defaultProps)for(r in n=s.defaultProps,n)o[r]===void 0&&(o[r]=n[r]);return{$$typeof:st,type:s,key:a,ref:c,props:o,_owner:ot.current}}re.Fragment=rt,re.jsx=Oe,re.jsxs=Oe,_e.exports=re;var e=_e.exports;/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pe=(...s)=>s.filter((n,t,r)=>!!n&&r.indexOf(n)===t).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=u.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:c,...i},p)=>u.createElement("svg",{ref:p,...lt,width:n,height:n,stroke:s,strokeWidth:r?Number(t)*24/Number(n):t,className:Pe("lucide",o),...i},[...c.map(([h,m])=>u.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=(s,n)=>{const t=u.forwardRef(({className:r,...o},a)=>u.createElement(ct,{ref:a,iconNode:n,className:Pe(`lucide-${it(s)}`,r),...o}));return t.displayName=`${s}`,t};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=F("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=F("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=F("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=F("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=F("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=F("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=F("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=F("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=F("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=F("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=F("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var xe=function(s,n){return xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},xe(s,n)};function vt(s,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");xe(s,n);function t(){this.constructor=s}s.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var z=function(){return z=Object.assign||function(n){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},z.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var De=!1,G,fe,be,oe,ae,ze,ie,ye,ve,je,Te,we,Ne,Fe,Ie;function M(){if(!De){De=!0;var s=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(s),t=/(Mac OS X)|(Windows)|(Linux)/.exec(s);if(we=/\b(iPhone|iP[ao]d)/.exec(s),Ne=/\b(iP[ao]d)/.exec(s),je=/Android/i.exec(s),Fe=/FBAN\/\w+;/i.exec(s),Ie=/Mobile/i.exec(s),Te=!!/Win64/.exec(s),n){G=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,G&&document&&document.documentMode&&(G=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(s);ze=r?parseFloat(r[1])+4:G,fe=n[2]?parseFloat(n[2]):NaN,be=n[3]?parseFloat(n[3]):NaN,oe=n[4]?parseFloat(n[4]):NaN,oe?(n=/(?:Chrome\/(\d+\.\d+))/.exec(s),ae=n&&n[1]?parseFloat(n[1]):NaN):ae=NaN}else G=fe=be=ae=oe=NaN;if(t){if(t[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(s);ie=o?parseFloat(o[1].replace("_",".")):!0}else ie=!1;ye=!!t[2],ve=!!t[3]}else ie=ye=ve=!1}}var Ce={ie:function(){return M()||G},ieCompatibilityMode:function(){return M()||ze>G},ie64:function(){return Ce.ie()&&Te},firefox:function(){return M()||fe},opera:function(){return M()||be},webkit:function(){return M()||oe},safari:function(){return Ce.webkit()},chrome:function(){return M()||ae},windows:function(){return M()||ye},osx:function(){return M()||ie},linux:function(){return M()||ve},iphone:function(){return M()||we},mobile:function(){return M()||we||Ne||je||Ie},nativeApp:function(){return M()||Fe},android:function(){return M()||je},ipad:function(){return M()||Ne}},jt=Ce,wt=!!(typeof window<"u"&&window.document&&window.document.createElement),Nt={canUseDOM:wt},Ct=Nt,Ae=Ct,Me;Ae.canUseDOM&&(Me=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function kt(s,n){if(!Ae.canUseDOM||n&&!("addEventListener"in document))return!1;var t="on"+s,r=t in document;if(!r){var o=document.createElement("div");o.setAttribute(t,"return;"),r=typeof o[t]=="function"}return!r&&Me&&s==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var St=kt,Et=jt,_t=St,We=10,Re=40,Be=800;function $e(s){var n=0,t=0,r=0,o=0;return"detail"in s&&(t=s.detail),"wheelDelta"in s&&(t=-s.wheelDelta/120),"wheelDeltaY"in s&&(t=-s.wheelDeltaY/120),"wheelDeltaX"in s&&(n=-s.wheelDeltaX/120),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(n=t,t=0),r=n*We,o=t*We,"deltaY"in s&&(o=s.deltaY),"deltaX"in s&&(r=s.deltaX),(r||o)&&s.deltaMode&&(s.deltaMode==1?(r*=Re,o*=Re):(r*=Be,o*=Be)),r&&!n&&(n=r<1?-1:1),o&&!t&&(t=o<1?-1:1),{spinX:n,spinY:t,pixelX:r,pixelY:o}}$e.getEventType=function(){return Et.firefox()?"DOMMouseScroll":_t("wheel")?"wheel":"mousewheel"};var Ot=$e,Pt=Ot;const Dt=et(Pt);function zt(s,n,t,r,o,a){a===void 0&&(a=0);var c=J(s,n,a),i=c.width,p=c.height,h=Math.min(i,t),m=Math.min(p,r);return h>m*o?{width:m*o,height:m}:{width:h,height:h/o}}function Tt(s){return s.width>s.height?s.width/s.naturalWidth:s.height/s.naturalHeight}function te(s,n,t,r,o){o===void 0&&(o=0);var a=J(n.width,n.height,o),c=a.width,i=a.height;return{x:Le(s.x,c,t.width,r),y:Le(s.y,i,t.height,r)}}function Le(s,n,t,r){var o=n*r/2-t/2;return le(s,-o,o)}function Ue(s,n){return Math.sqrt(Math.pow(s.y-n.y,2)+Math.pow(s.x-n.x,2))}function Ve(s,n){return Math.atan2(n.y-s.y,n.x-s.x)*180/Math.PI}function Ft(s,n,t,r,o,a,c){a===void 0&&(a=0),c===void 0&&(c=!0);var i=c?It:At,p=J(n.width,n.height,a),h=J(n.naturalWidth,n.naturalHeight,a),m={x:i(100,((p.width-t.width/o)/2-s.x/o)/p.width*100),y:i(100,((p.height-t.height/o)/2-s.y/o)/p.height*100),width:i(100,t.width/p.width*100/o),height:i(100,t.height/p.height*100/o)},C=Math.round(i(h.width,m.width*h.width/100)),f=Math.round(i(h.height,m.height*h.height/100)),w=h.width>=h.height*r,N=w?{width:Math.round(f*r),height:f}:{width:C,height:Math.round(C/r)},P=z(z({},N),{x:Math.round(i(h.width-N.width,m.x*h.width/100)),y:Math.round(i(h.height-N.height,m.y*h.height/100))});return{croppedAreaPercentages:m,croppedAreaPixels:P}}function It(s,n){return Math.min(s,Math.max(0,n))}function At(s,n){return n}function Mt(s,n,t,r,o,a){var c=J(n.width,n.height,t),i=le(r.width/c.width*(100/s.width),o,a),p={x:i*c.width/2-r.width/2-c.width*i*(s.x/100),y:i*c.height/2-r.height/2-c.height*i*(s.y/100)};return{crop:p,zoom:i}}function Wt(s,n,t){var r=Tt(n);return t.height>t.width?t.height/(s.height*r):t.width/(s.width*r)}function Rt(s,n,t,r,o,a){t===void 0&&(t=0);var c=J(n.naturalWidth,n.naturalHeight,t),i=le(Wt(s,n,r),o,a),p=r.height>r.width?r.height/s.height:r.width/s.width,h={x:((c.width-s.width)/2-s.x)*p,y:((c.height-s.height)/2-s.y)*p};return{crop:h,zoom:i}}function qe(s,n){return{x:(n.x+s.x)/2,y:(n.y+s.y)/2}}function Bt(s){return s*Math.PI/180}function J(s,n,t){var r=Bt(t);return{width:Math.abs(Math.cos(r)*s)+Math.abs(Math.sin(r)*n),height:Math.abs(Math.sin(r)*s)+Math.abs(Math.cos(r)*n)}}function le(s,n,t){return Math.min(Math.max(s,n),t)}function ce(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];return s.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var $t=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Lt=1,Ut=3,Vt=1,qt=function(s){vt(n,s);function n(){var t=s!==null&&s.apply(this,arguments)||this;return t.cropperRef=L.createRef(),t.imageRef=L.createRef(),t.videoRef=L.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.previousCropSize=null,t.isInitialized=!1,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var r=!0;t.resizeObserver=new window.ResizeObserver(function(o){if(r){r=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(r){return r.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturechange",t.onGestureChange),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var r=t.computeSizes();r&&(t.previousCropSize=r,t.emitCropData(),t.setInitialCrop(r),t.isInitialized=!0),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(r){if(t.props.initialCroppedAreaPercentages){var o=Mt(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),a=o.crop,c=o.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(c)}else if(t.props.initialCroppedAreaPixels){var i=Rt(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),a=i.crop,c=i.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(c)}},t.computeSizes=function(){var r,o,a,c,i,p,h=t.imageRef.current||t.videoRef.current;if(h&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var m=t.containerRect.width/t.containerRect.height,C=((r=t.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((o=t.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,f=((a=t.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((c=t.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,w=h.offsetWidth<C||h.offsetHeight<f,N=C/f,P=void 0;if(w)switch(t.state.mediaObjectFit){default:case"contain":P=m>N?{width:t.containerRect.height*N,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/N};break;case"horizontal-cover":P={width:t.containerRect.width,height:t.containerRect.width/N};break;case"vertical-cover":P={width:t.containerRect.height*N,height:t.containerRect.height};break}else P={width:h.offsetWidth,height:h.offsetHeight};t.mediaSize=z(z({},P),{naturalWidth:C,naturalHeight:f}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var j=t.props.cropSize?t.props.cropSize:zt(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((i=t.state.cropSize)===null||i===void 0?void 0:i.height)!==j.height||((p=t.state.cropSize)===null||p===void 0?void 0:p.width)!==j.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(j),t.setState({cropSize:j},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(j),j}},t.saveContainerPosition=function(){if(t.containerRef){var r=t.containerRef.getBoundingClientRect();t.containerPosition={x:r.left,y:r.top}}},t.onMouseDown=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(n.getMousePoint(r)))},t.onMouseMove=function(r){return t.onDrag(n.getMousePoint(r))},t.onScroll=function(r){t.currentDoc&&(r.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(r){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(r))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),r.touches.length===2?t.onPinchStart(r):r.touches.length===1&&t.onDragStart(n.getTouchPoint(r.touches[0]))))},t.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?t.onPinchMove(r):r.touches.length===1&&t.onDrag(n.getTouchPoint(r.touches[0]))},t.onGestureStart=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureChange),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureChange=function(r){if(r.preventDefault(),!t.isTouching){var o=n.getMousePoint(r),a=t.gestureZoomStart-1+r.scale;if(t.setNewZoom(a,o,{shouldUpdatePosition:!0}),t.props.onRotationChange){var c=t.gestureRotationStart+r.rotation;t.props.onRotationChange(c)}}},t.onGestureEnd=function(r){t.cleanEvents()},t.onDragStart=function(r){var o,a,c=r.x,i=r.y;t.dragStartPosition={x:c,y:i},t.dragStartCrop=z({},t.props.crop),(a=(o=t.props).onInteractionStart)===null||a===void 0||a.call(o)},t.onDrag=function(r){var o=r.x,a=r.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(o===void 0||a===void 0)){var c=o-t.dragStartPosition.x,i=a-t.dragStartPosition.y,p={x:t.dragStartCrop.x+c,y:t.dragStartCrop.y+i},h=t.props.restrictPosition?te(p,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):p;t.props.onCropChange(h)}}))},t.onDragStopped=function(){var r,o;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(o=(r=t.props).onInteractionEnd)===null||o===void 0||o.call(r)},t.onWheel=function(r){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(r))){r.preventDefault();var o=n.getMousePoint(r),a=Dt(r).pixelY,c=t.props.zoom-a*t.props.zoomSpeed/200;t.setNewZoom(c,o,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var i,p;return(p=(i=t.props).onInteractionStart)===null||p===void 0?void 0:p.call(i)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var i,p;return(p=(i=t.props).onInteractionEnd)===null||p===void 0?void 0:p.call(i)})},250)}},t.getPointOnContainer=function(r,o){var a=r.x,c=r.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(a-o.x),y:t.containerRect.height/2-(c-o.y)}},t.getPointOnMedia=function(r){var o=r.x,a=r.y,c=t.props,i=c.crop,p=c.zoom;return{x:(o+i.x)/p,y:(a+i.y)/p}},t.setNewZoom=function(r,o,a){var c=a===void 0?{}:a,i=c.shouldUpdatePosition,p=i===void 0?!0:i;if(!(!t.state.cropSize||!t.props.onZoomChange)){var h=le(r,t.props.minZoom,t.props.maxZoom);if(p){var m=t.getPointOnContainer(o,t.containerPosition),C=t.getPointOnMedia(m),f={x:C.x*h-m.x,y:C.y*h-m.y},w=t.props.restrictPosition?te(f,t.mediaSize,t.state.cropSize,h,t.props.rotation):f;t.props.onCropChange(w)}t.props.onZoomChange(h)}},t.getCropData=function(){if(!t.state.cropSize)return null;var r=t.props.restrictPosition?te(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return Ft(r,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var r=t.getCropData();if(r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(o,a),t.props.onCropAreaChange&&t.props.onCropAreaChange(o,a)}},t.emitCropAreaChange=function(){var r=t.getCropData();if(r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(o,a)}},t.recomputeCropPosition=function(){if(t.state.cropSize){var r=t.props.crop;if(t.isInitialized&&t.previousCropSize){var o=Math.abs(t.previousCropSize.width-t.state.cropSize.width)>1e-6||Math.abs(t.previousCropSize.height-t.state.cropSize.height)>1e-6;if(o){var a=t.state.cropSize.width/t.previousCropSize.width,c=t.state.cropSize.height/t.previousCropSize.height;r={x:t.props.crop.x*a,y:t.props.crop.y*c}}}var i=t.props.restrictPosition?te(r,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):r;t.previousCropSize=t.state.cropSize,t.props.onCropChange(i),t.emitCropData()}},t.onKeyDown=function(r){var o,a,c=t.props,i=c.crop,p=c.onCropChange,h=c.keyboardStep,m=c.zoom,C=c.rotation,f=h;if(t.state.cropSize){r.shiftKey&&(f*=.2);var w=z({},i);switch(r.key){case"ArrowUp":w.y-=f,r.preventDefault();break;case"ArrowDown":w.y+=f,r.preventDefault();break;case"ArrowLeft":w.x-=f,r.preventDefault();break;case"ArrowRight":w.x+=f,r.preventDefault();break;default:return}t.props.restrictPosition&&(w=te(w,t.mediaSize,t.state.cropSize,m,C)),r.repeat||(a=(o=t.props).onInteractionStart)===null||a===void 0||a.call(o),p(w)}},t.onKeyUp=function(r){var o,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}t.emitCropData(),(a=(o=t.props).onInteractionEnd)===null||a===void 0||a.call(o)},t}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=$t,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},n.prototype.componentWillUnmount=function(){var t,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(t){var r,o,a,c,i,p,h,m,C;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((r=t.cropSize)===null||r===void 0?void 0:r.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((a=t.cropSize)===null||a===void 0?void 0:a.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((i=t.crop)===null||i===void 0?void 0:i.x)!==((p=this.props.crop)===null||p===void 0?void 0:p.x)||((h=t.crop)===null||h===void 0?void 0:h.y)!==((m=this.props.crop)===null||m===void 0?void 0:m.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((C=this.videoRef.current)===null||C===void 0||C.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},n.prototype.getAspect=function(){var t=this.props,r=t.cropSize,o=t.aspect;return r?r.width/r.height:o},n.prototype.getObjectFit=function(){var t,r,o,a;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var i=this.containerRect.width/this.containerRect.height,p=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,h=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,m=p/h;return m<i?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(t){var r=n.getTouchPoint(t.touches[0]),o=n.getTouchPoint(t.touches[1]);this.lastPinchDistance=Ue(r,o),this.lastPinchRotation=Ve(r,o),this.onDragStart(qe(r,o))},n.prototype.onPinchMove=function(t){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var o=n.getTouchPoint(t.touches[0]),a=n.getTouchPoint(t.touches[1]),c=qe(o,a);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var i=Ue(o,a),p=r.props.zoom*(i/r.lastPinchDistance);r.setNewZoom(p,c,{shouldUpdatePosition:!1}),r.lastPinchDistance=i;var h=Ve(o,a),m=r.props.rotation+(h-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(m),r.lastPinchRotation=h})}},n.prototype.render=function(){var t=this,r,o=this.props,a=o.image,c=o.video,i=o.mediaProps,p=o.cropperProps,h=o.transform,m=o.crop,C=m.x,f=m.y,w=o.rotation,N=o.zoom,P=o.cropShape,j=o.showGrid,g=o.roundCropAreaPixels,S=o.style,b=S.containerStyle,y=S.cropAreaStyle,O=S.mediaStyle,v=o.classes,E=v.containerClassName,D=v.cropAreaClassName,A=v.mediaClassName,R=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return L.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(_){return t.containerRef=_},"data-testid":"container",style:b,className:ce("reactEasyCrop_Container",E)},a?L.createElement("img",z({alt:"",className:ce("reactEasyCrop_Image",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},i,{src:a,ref:this.imageRef,style:z(z({},O),{transform:h||"translate(".concat(C,"px, ").concat(f,"px) rotate(").concat(w,"deg) scale(").concat(N,")")}),onLoad:this.onMediaLoad})):c&&L.createElement("video",z({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ce("reactEasyCrop_Video",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},i,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:z(z({},O),{transform:h||"translate(".concat(C,"px, ").concat(f,"px) rotate(").concat(w,"deg) scale(").concat(N,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(I){return L.createElement("source",z({key:I.src},I))})),this.state.cropSize&&L.createElement("div",z({ref:this.cropperRef,style:z(z({},y),{width:g?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:g?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:ce("reactEasyCrop_CropArea",P==="round"&&"reactEasyCrop_CropAreaRound",j&&"reactEasyCrop_CropAreaGrid",D)},p)))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Ut,minZoom:Lt,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Vt},n.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},n.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},n}(L.Component);const Zt=s=>new Promise((n,t)=>{const r=new Image;r.addEventListener("load",()=>n(r)),r.addEventListener("error",o=>t(o)),r.setAttribute("crossOrigin","anonymous"),r.src=s});async function Gt(s,n){const t=await Zt(s),r=document.createElement("canvas"),o=r.getContext("2d");return r.width=n.width,r.height=n.height,o.drawImage(t,n.x,n.y,n.width,n.height,0,0,n.width,n.height),new Promise(a=>{r.toBlob(c=>{a(c)},"image/jpeg")})}const de="https://siraj-backend.onrender.com",ue={subProductName:"Item",size:"",allowedScents:["Vanilla Cookie"]},Ht={variantName:"",variantType:"weight",price:0,stock:0,sku:""},ke={_id:null,productType:"Single",category:"",price_egp:0,stock:0,status:"Active",featured:!1,name_en:"",description_en:"",scents:[],size:"",burnTime:"",wickType:"",coverageSpace:"",bundleName:"",bundleDescription:"",bundleItems:[{...ue,subProductName:"Big Jar Candle 1"},{...ue,subProductName:"Big Jar Candle 2"},{...ue,subProductName:"Wax Freshener"}],selectedFiles:[],imagePaths:[],weight:"",skinType:"",featureBenefit:"",color:"",dimensions:"",soapWeight:"",oilWeight:"",massageWeight:"",fizzySpecs:"",scentOptions:[],sizeOptions:[],weightOptions:[],typeOptions:[],shapeOptions:[],keyIngredients:[],variants:[]},Ze=()=>{var Xe;const[s,n]=u.useState(ke),[t,r]=u.useState(!1),[o,a]=u.useState(""),[c,i]=u.useState([]),[p,h]=u.useState(!0),[m,C]=u.useState(!1),[f,w]=u.useState(null),[N,P]=u.useState({x:0,y:0}),[j,g]=u.useState(1),[S,b]=u.useState(null),[y,O]=u.useState(!1),v=u.useCallback(async()=>{a("");try{const l=await fetch(`${de}/api/products?limit=1000&status=Active&status=Inactive`);if(!l.ok)throw new Error(`Failed to fetch products: ${l.statusText}`);const d=await l.json();i(d.results||[])}catch(l){console.error("Error fetching products:",l),a(`Error: Could not load products. ${l.message}`),i([])}},[]);u.useEffect(()=>{h(!0),v().finally(()=>h(!1))},[v]);const E=l=>new Promise(d=>{const x=new FileReader;x.addEventListener("load",()=>d(x.result),!1),x.readAsDataURL(l)}),D=u.useCallback((l,d)=>{b(d)},[]),A=u.useCallback(async()=>{try{const l=await Gt(f,S),d=new File([l],`cropped-${Date.now()}.jpg`,{type:"image/jpeg"});n(x=>{const k=x.selectedFiles||[];return k.length>=5?(alert("Maximum 5 images allowed."),x):{...x,selectedFiles:[...k,d]}}),O(!1),w(null),g(1)}catch(l){console.error(l),a("Error cropping image")}},[f,S]),R=async l=>{if(l.target.files&&l.target.files.length>0){const d=l.target.files[0],x=await E(d);w(x),O(!0),l.target.value=null}},I=u.useCallback(()=>{n(ke),C(!1);const l=document.getElementById("file-upload");l&&(l.value=null),a("")},[]),_=u.useCallback(l=>{const{name:d,value:x,type:k,checked:T}=l.target;n(V=>({...V,[d]:k==="checkbox"?T:x}))},[]),ts=u.useCallback(l=>{const d=parseFloat(l.target.value)||0;n(x=>({...x,price_egp:d}))},[]),ss=u.useCallback(l=>{const d=parseInt(l.target.value,10)||0;n(x=>({...x,stock:d}))},[]),B=u.useCallback((l,d)=>{const x=d.split(",").map(k=>k.trim()).filter(Boolean);n(k=>({...k,[l]:x}))},[]),K=u.useCallback(l=>{const d=l.target.value.split(",").map(x=>x.trim()).filter(Boolean);n(x=>({...x,scents:d}))},[]),rs=u.useCallback((l,d)=>{const x=d.split(",").map(k=>k.trim()).filter(Boolean);n(k=>{const T=[...k.bundleItems];return T[l].allowedScents=x,{...k,bundleItems:T}})},[]),ns=u.useCallback(l=>{n(d=>({...d,selectedFiles:d.selectedFiles.filter((x,k)=>k!==l)}))},[]),He=u.useCallback((l,d,x)=>{n(k=>{const T=[...k.bundleItems];return T[l][d]=x,{...k,bundleItems:T}})},[]),os=u.useCallback(()=>{s.bundleItems.length<10&&n(l=>({...l,bundleItems:[...l.bundleItems,{...ue,subProductName:`Item ${l.bundleItems.length+1}`}]}))},[s.bundleItems.length]),as=u.useCallback(l=>{s.bundleItems.length>1&&n(d=>({...d,bundleItems:d.bundleItems.filter((x,k)=>k!==l)}))},[s.bundleItems.length]),me=u.useCallback((l,d,x)=>{n(k=>{const T=[...k.variants];return T[l][d]=x,{...k,variants:T}})},[]),is=u.useCallback(()=>{n(l=>({...l,variants:[...l.variants,{...Ht}]}))},[]),ls=u.useCallback(l=>{n(d=>({...d,variants:d.variants.filter((x,k)=>k!==l)}))},[]),cs=async l=>{var V,Je,Ye;if(l.preventDefault(),r(!0),a(""),!m&&s.selectedFiles.length===0){a("Error: Please upload at least one image for new products."),r(!1);return}if(!s.category){a("Error: Category is required."),r(!1);return}if(s.productType==="Single"&&!s.name_en.trim()){a("Error: Name (English) is required for Single products."),r(!1);return}if(s.productType==="Bundle"&&!s.bundleName.trim()){a("Error: Bundle Name is required for Bundles."),r(!1);return}let d={productType:s.productType,category:s.category,price_egp:s.price_egp,stock:s.stock,status:s.status,featured:s.featured,description_en:s.description_en,size:s.size,burnTime:s.burnTime,wickType:s.wickType,coverageSpace:s.coverageSpace,weight:s.weight,skinType:s.skinType,featureBenefit:s.featureBenefit,color:s.color,dimensions:s.dimensions,soapWeight:s.soapWeight,oilWeight:s.oilWeight,massageWeight:s.massageWeight,fizzySpecs:s.fizzySpecs,scents:s.scents.join(", "),scentOptions:s.scentOptions.join(", "),sizeOptions:s.sizeOptions.join(", "),weightOptions:s.weightOptions.join(", "),typeOptions:s.typeOptions.join(", "),shapeOptions:s.shapeOptions.join(", "),keyIngredients:s.keyIngredients.join(", "),variants:s.variants};if(s.productType==="Single"){d.name_en=s.name_en;const $=s.category,Se={Candles:["burnTime","wickType","coverageSpace","scents"],"Pottery Collection":["burnTime","wickType","coverageSpace","scentOptions"],"Wax Burners":["typeOptions","dimensions"],Deodorant:["scents","skinType","keyIngredients"],Soap:["scents","soapWeight","featureBenefit","keyIngredients"],"Body Splash":["scents","sizeOptions"],"Shimmering Body Oil":["color","scents","oilWeight"],"Massage Candles":["scents","massageWeight"],Fresheners:["scentOptions"],"Wax Melts":["weightOptions","scentOptions"],"Car Diffusers":["shapeOptions","scentOptions"],"Reed Diffusers":["scentOptions"],Sets:[],"Fizzy Salts":["fizzySpecs"]}[$]||[];Object.keys(d).forEach(Ee=>{!["productType","category","price_egp","stock","status","featured","name_en","description_en","size","variants"].includes(Ee)&&!Se.includes(Ee)&&delete d[Ee]})}else d.bundleName=s.bundleName,d.bundleDescription=s.bundleDescription,d.bundleItems=s.bundleItems.map(W=>({...W,allowedScents:W.allowedScents.join(", ")})),["name_en","scents","size","burnTime","wickType","coverageSpace","weight","skinType","featureBenefit","color","scentOptions","sizeOptions","weightOptions","typeOptions","shapeOptions","keyIngredients","dimensions","soapWeight","oilWeight","massageWeight","fizzySpecs","variants"].forEach(W=>delete d[W]);const x=new FormData;s.selectedFiles.forEach($=>{x.append("productImages",$)}),x.append("productData",JSON.stringify(d));const k=m?`${de}/api/products/${s._id}`:`${de}/api/products`,T=m?"PUT":"POST";try{const $=await fetch(k,{method:T,body:x}),W=await $.json();if($.ok&&W.success){const Se=m?"updated":"created",Ke=((V=W.product)==null?void 0:V.name_en)||((Je=W.product)==null?void 0:Je.bundleName)||((Ye=W.product)==null?void 0:Ye.name)||"product";a(`Success! Product "${Ke}" ${Se}.`),I(),await v()}else a(`Error ${m?"updating":"creating"} product: ${W.message||W.error||`Server responded with status ${$.status}`}`),console.error("API Error:",W)}catch($){a(`Network Error: ${$.message}. Please check connection or API URL.`),console.error("Submission Error:",$)}finally{r(!1)}},ds=l=>{const d=["scents","scentOptions","sizeOptions","weightOptions","typeOptions","shapeOptions","keyIngredients"],x={...l};d.forEach(T=>{x[T]=(l[T]||"").split(",").map(V=>V.trim()).filter(Boolean)});const k=(l.bundleItems||[]).map(T=>({...T,allowedScents:(T.allowedScents||"").split(",").map(V=>V.trim()).filter(Boolean)}));n({...ke,...x,_id:l._id,bundleItems:k,selectedFiles:[],imagePaths:l.imagePaths||[],variants:l.variants||[]}),C(!0),a("Editing product. Upload images only to ADD new ones.")},us=async(l,d)=>{if(window.confirm(`Are you sure you want to delete "${d}"? This cannot be undone.`)){r(!0),a("");try{const x=await fetch(`${de}/api/products/${l}`,{method:"DELETE"}),k=await x.json();x.ok&&k.success?(a(`Success! Product "${d}" deleted.`),await v(),s._id===l&&I()):(a(`Error deleting product: ${k.message||k.error||`Status ${x.status}`}`),console.error("API Error:",k))}catch(x){a(`Network Error: ${x.message}.`),console.error("Delete Error:",x)}finally{r(!1)}}},H=s.productType==="Bundle",ps=()=>{const{category:l}=s;if(H||!l)return e.jsx("div",{className:"md:col-span-3 text-center text-gray-500 italic p-4",children:H?"Specifications are defined per bundle item.":"Select a category to see specific options."});switch(l){case"Candles":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"burnTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Burn Time"}),e.jsx("input",{type:"text",name:"burnTime",id:"burnTime",value:s.burnTime,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 40-45 hours"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"wickType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Wick Type"}),e.jsx("input",{type:"text",name:"wickType",id:"wickType",value:s.wickType,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Cotton, Wood"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"coverageSpace",className:"block text-sm font-medium text-gray-700 mb-1",children:"Coverage Space"}),e.jsx("input",{type:"text",name:"coverageSpace",id:"coverageSpace",value:s.coverageSpace,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 15-20 m2 bedroom"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"scents",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent Name"}),e.jsx("input",{type:"text",name:"scents",id:"scents",value:s.scents.join(", "),onChange:K,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Note: Stock management per scent coming soon"})]})]});case"Pottery Collection":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"burnTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Burn Time"}),e.jsx("input",{type:"text",name:"burnTime",id:"burnTime",value:s.burnTime,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 40-45 hours"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"wickType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Wick Type"}),e.jsx("input",{type:"text",name:"wickType",id:"wickType",value:s.wickType,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Cotton, Wood"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"coverageSpace",className:"block text-sm font-medium text-gray-700 mb-1",children:"Coverage Space"}),e.jsx("input",{type:"text",name:"coverageSpace",id:"coverageSpace",value:s.coverageSpace,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 15-20 m2 bedroom"})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"scentOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent Options (Comma separated)"}),e.jsx("input",{type:"text",name:"scentOptions",id:"scentOptions",value:s.scentOptions.join(", "),onChange:d=>B("scentOptions",d.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla, Rose, Oud"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu for the customer. Stock management per scent coming soon"})]})]});case"Wax Burners":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"typeOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type Options (Comma separated)"}),e.jsx("input",{type:"text",name:"typeOptions",id:"typeOptions",value:s.typeOptions.join(", "),onChange:d=>B("typeOptions",d.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Pottery, Glass"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu. Stock management per type coming soon"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dimensions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Dimensions"}),e.jsx("input",{type:"text",name:"dimensions",id:"dimensions",value:s.dimensions,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 10x10x5 cm"})]})]});case"Deodorant":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"scents",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent"}),e.jsx("input",{type:"text",name:"scents",id:"scents",value:s.scents.join(", "),onChange:K,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Coconut & Lime"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"skinType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Skin Type"}),e.jsx("input",{type:"text",name:"skinType",id:"skinType",value:s.skinType,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., For Sensitive Skin"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"keyIngredients",className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Ingredients (Comma separated)"}),e.jsx("input",{type:"text",name:"keyIngredients",id:"keyIngredients",value:s.keyIngredients.join(", "),onChange:d=>B("keyIngredients",d.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vitamin E, Aloe Vera"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Displayed as product information (not a dropdown)"})]})]});case"Soap":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"scents",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent"}),e.jsx("input",{type:"text",name:"scents",id:"scents",value:s.scents.join(", "),onChange:K,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Lavender & Oats"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"soapWeight",className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight"}),e.jsx("input",{type:"text",name:"soapWeight",id:"soapWeight",value:s.soapWeight,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 100g"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"featureBenefit",className:"block text-sm font-medium text-gray-700 mb-1",children:"Feature / Benefit"}),e.jsx("input",{type:"text",name:"featureBenefit",id:"featureBenefit",value:s.featureBenefit,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., For Acne-Prone Skin"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"keyIngredients",className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Ingredients (Comma separated)"}),e.jsx("input",{type:"text",name:"keyIngredients",id:"keyIngredients",value:s.keyIngredients.join(", "),onChange:d=>B("keyIngredients",d.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Shea Butter, Vitamin E"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Displayed as product information (not a dropdown)"})]})]});case"Body Splash":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"scents",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent"}),e.jsx("input",{type:"text",name:"scents",id:"scents",value:s.scents.join(", "),onChange:K,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla Passion"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"sizeOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Size Options (Comma separated)"}),e.jsx("input",{type:"text",name:"sizeOptions",id:"sizeOptions",value:s.sizeOptions.join(", "),onChange:d=>B("sizeOptions",d.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 50ml, 100ml, 200ml"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu. Stock management per size coming soon"})]})]});case"Shimmering Body Oil":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),e.jsx("input",{type:"text",name:"color",id:"color",value:s.color,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Bronze, Gold"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"scents",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent"}),e.jsx("input",{type:"text",name:"scents",id:"scents",value:s.scents.join(", "),onChange:K,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Coconut"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"oilWeight",className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight / Size"}),e.jsx("input",{type:"text",name:"oilWeight",id:"oilWeight",value:s.oilWeight,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 50ml"})]})]});case"Massage Candles":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"scents",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent"}),e.jsx("input",{type:"text",name:"scents",id:"scents",value:s.scents.join(", "),onChange:K,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Lavender"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"massageWeight",className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight"}),e.jsx("input",{type:"text",name:"massageWeight",id:"massageWeight",value:s.massageWeight,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 150g"})]})]});case"Fresheners":return e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"scentOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent Options (Comma separated)"}),e.jsx("input",{type:"text",name:"scentOptions",id:"scentOptions",value:s.scentOptions.join(", "),onChange:d=>B("scentOptions",d.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla, Rose, Oud"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu for the customer. Stock management per scent coming soon"})]});case"Reed Diffusers":return e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"scentOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent Options (Comma separated)"}),e.jsx("input",{type:"text",name:"scentOptions",id:"scentOptions",value:s.scentOptions.join(", "),onChange:d=>B("scentOptions",d.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla, Rose, Oud"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu for the customer."})]});case"Wax Melts":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"weightOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight Options (Comma separated)"}),e.jsx("input",{type:"text",name:"weightOptions",id:"weightOptions",value:s.weightOptions.join(", "),onChange:d=>B("weightOptions",d.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 50g, 100g, 200g"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu."})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"scentOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent Options (Comma separated)"}),e.jsx("input",{type:"text",name:"scentOptions",id:"scentOptions",value:s.scentOptions.join(", "),onChange:d=>B("scentOptions",d.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla, Rose, Oud"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will also appear as a dropdown menu."})]})]});case"Car Diffusers":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"shapeOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Shape Options (Comma separated)"}),e.jsx("input",{type:"text",name:"shapeOptions",id:"shapeOptions",value:s.shapeOptions.join(", "),onChange:d=>B("shapeOptions",d.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Round, Square, Heart, Star"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu. Stock management per shape coming soon"})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"scentOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent Options (Comma separated)"}),e.jsx("input",{type:"text",name:"scentOptions",id:"scentOptions",value:s.scentOptions.join(", "),onChange:d=>B("scentOptions",d.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla, Rose, Oud"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu."})]})]});case"Sets":return e.jsxs("div",{className:"md:col-span-3 text-center text-gray-500 italic p-4",children:["No extra specifications needed for this category.",e.jsx("br",{}),"Use the ",e.jsx("strong",{children:"Description"})," fields to detail what is included."]});case"Fizzy Salts":return e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"fizzySpecs",className:"block text-sm font-medium text-gray-700 mb-1",children:"Specifications"}),e.jsx("input",{type:"text",name:"fizzySpecs",id:"fizzySpecs",value:s.fizzySpecs,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Bath & Body Salts, 500g"})]});default:return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"burnTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Burn Time"}),e.jsx("input",{type:"text",name:"burnTime",id:"burnTime",value:s.burnTime,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 40-45 hours"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"wickType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Wick Type"}),e.jsx("input",{type:"text",name:"wickType",id:"wickType",value:s.wickType,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Cotton, Wood"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"coverageSpace",className:"block text-sm font-medium text-gray-700 mb-1",children:"Coverage Space"}),e.jsx("input",{type:"text",name:"coverageSpace",id:"coverageSpace",value:s.coverageSpace,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 15-20 m2 bedroom"})]})]})}};return e.jsxs("div",{className:"space-y-8 relative",children:[y&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex flex-col items-center justify-center p-4",children:[e.jsx("div",{className:"relative w-full max-w-lg h-96 bg-gray-900 rounded-lg overflow-hidden shadow-2xl",children:e.jsx(qt,{image:f,crop:N,zoom:j,aspect:4/5,onCropChange:P,onCropComplete:D,onZoomChange:g})}),e.jsxs("div",{className:"mt-6 flex flex-col w-full max-w-lg gap-4 bg-white p-4 rounded-lg shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-bold text-gray-700 min-w-[40px]",children:"Zoom"}),e.jsx("input",{type:"range",value:j,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:l=>g(l.target.value),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"flex gap-3 justify-end mt-2",children:[e.jsx("button",{onClick:()=>{O(!1),w(null)},className:"px-4 py-2 text-gray-600 font-bold hover:bg-gray-100 rounded",children:"Cancel"}),e.jsx("button",{onClick:A,className:"px-6 py-2 bg-indigo-600 text-white rounded font-bold hover:bg-indigo-700 shadow-md",children:"Done & Save"})]})]})]}),e.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-6",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6 border-b pb-4",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[e.jsx(yt,{className:"w-6 h-6 mr-2 text-indigo-600"}),m?"Edit Product":"Add New Product"]}),m&&e.jsx("button",{onClick:I,className:"text-sm font-medium text-indigo-600 hover:text-indigo-800 px-3 py-1 border border-indigo-200 rounded hover:bg-indigo-50",children:"Cancel Edit / Add New"})]}),o&&e.jsx("div",{className:`p-3 mb-6 rounded-lg font-medium text-sm border ${o.startsWith("Error")?"bg-red-50 text-red-700 border-red-300":"bg-green-50 text-green-700 border-green-300"}`,children:o}),e.jsxs("form",{onSubmit:cs,className:"space-y-8",children:[e.jsxs("fieldset",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-200",children:[e.jsxs("legend",{className:"block text-lg font-semibold text-indigo-800 mb-3",children:[e.jsx(ne,{className:"w-5 h-5 inline mr-2 align-text-bottom"})," Product Type"]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("label",{className:"flex items-center cursor-pointer bg-white p-3 rounded-xl shadow-sm transition hover:shadow-md",children:[e.jsx("input",{type:"radio",name:"productType",value:"Single",checked:s.productType==="Single",onChange:_,className:"h-5 w-5 text-indigo-600 border-gray-300 focus:ring-indigo-500"}),e.jsx("span",{className:"ml-2 font-medium text-gray-700",children:"Single Product"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer bg-white p-3 rounded-xl shadow-sm transition hover:shadow-md",children:[e.jsx("input",{type:"radio",name:"productType",value:"Bundle",checked:s.productType==="Bundle",onChange:_,className:"h-5 w-5 text-indigo-600 border-gray-300 focus:ring-indigo-500"}),e.jsx("span",{className:"ml-2 font-medium text-gray-700",children:"Product Bundle"})]})]})]}),e.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 border-t pt-6",children:[e.jsx("legend",{className:"md:col-span-2 text-xl font-bold text-gray-800 mb-4",children:" General Details "}),H?e.jsxs("div",{className:"col-span-1",children:[e.jsxs("label",{htmlFor:"bundleName",className:"block text-sm font-medium text-gray-700 mb-1",children:["Bundle Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"bundleName",id:"bundleName",value:s.bundleName,onChange:_,required:!0,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border"})]}):e.jsxs("div",{className:"col-span-1",children:[e.jsxs("label",{htmlFor:"name_en",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name (English) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name_en",id:"name_en",value:s.name_en,onChange:_,required:!0,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"category",id:"category",value:s.category,onChange:_,required:!0,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border bg-white",children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"Bundles",children:"Bundles"}),e.jsx("option",{value:"Candles",children:"Candles"}),e.jsx("option",{value:"Pottery Collection",children:"Pottery Collection"}),e.jsx("option",{value:"Wax Burners",children:"Wax Burners"}),e.jsx("option",{value:"Fresheners",children:"Fresheners"}),e.jsx("option",{value:"Wax Melts",children:"Wax Melts"}),e.jsx("option",{value:"Car Diffusers",children:"Car Diffusers"}),e.jsx("option",{value:"Reed Diffusers",children:"Reed Diffusers"}),e.jsx("option",{value:"Deodorant",children:"Deodorant"}),e.jsx("option",{value:"Soap",children:"Soap"}),e.jsx("option",{value:"Body Splash",children:"Body Splash"}),e.jsx("option",{value:"Shimmering Body Oil",children:"Shimmering Body Oil"}),e.jsx("option",{value:"Massage Candles",children:"Massage Candles"}),e.jsx("option",{value:"Fizzy Salts",children:"Fizzy Salts"}),e.jsx("option",{value:"Sets",children:"Sets"})]})]}),e.jsxs("div",{className:"md:col-span-2 flex items-center gap-x-3 pt-3",children:[e.jsx("input",{type:"checkbox",name:"featured",id:"featured",checked:s.featured,onChange:_,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"featured",className:"block text-sm font-medium text-gray-700",children:"Featured Product (Show on Homepage)"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{name:"status",id:"status",value:s.status,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border bg-white",children:[e.jsx("option",{value:"Active",children:"Active (Visible on site)"}),e.jsx("option",{value:"Inactive",children:"Inactive (Hidden from site)"})]})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsxs("label",{htmlFor:"price_egp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Base Price (EGP) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"price_egp",id:"price_egp",value:s.price_egp,onChange:ts,required:!0,min:"0",step:"0.01",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Used if no variants are added"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsxs("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700 mb-1",children:["Base Stock Quantity ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"stock",id:"stock",value:s.stock,onChange:ss,required:!0,min:"0",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Used if no variants are added"})]}),!H&&e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),e.jsx("input",{type:"text",name:"size",id:"size",value:s.size,onChange:_,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:'e.g., "200 gm", "Small"'})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2 mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (English)"}),e.jsx("textarea",{name:"description_en",value:s.description_en,onChange:_,rows:"4",className:"block w-full rounded-lg border p-3",placeholder:"Write a detailed description here..."})]})]}),!H&&e.jsxs("fieldset",{className:"bg-green-50 p-6 rounded-xl border border-green-200 space-y-4",children:[e.jsxs("legend",{className:"text-xl font-bold text-green-800 flex items-center",children:[e.jsx(ne,{className:"w-5 h-5 mr-2"})," Product Variants & Pricing"]}),e.jsx("p",{className:"text-sm text-green-700",children:"Add different variants (sizes, weights, colors) with individual prices and stock. If no variants added, the base price above will be used."}),s.variants&&s.variants.map((l,d)=>e.jsxs("div",{className:"p-4 border border-green-300 rounded-lg bg-white",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex justify-between items-center",children:["Variant #",d+1,e.jsx("button",{type:"button",onClick:()=>ls(d),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50 transition",title:"Remove Variant",children:e.jsx(U,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Variant Name"}),e.jsx("input",{type:"text",value:l.variantName,onChange:x=>me(d,"variantName",x.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm p-2 text-sm border focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 100g, 200ml, Red"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Type"}),e.jsxs("select",{value:l.variantType,onChange:x=>me(d,"variantType",x.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm p-2 text-sm border focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"weight",children:"Weight"}),e.jsx("option",{value:"size",children:"Size"}),e.jsx("option",{value:"color",children:"Color"}),e.jsx("option",{value:"scent",children:"Scent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Price (EGP)"}),e.jsx("input",{type:"number",value:l.price,onChange:x=>me(d,"price",parseFloat(x.target.value)||0),className:"block w-full rounded-md border-gray-300 shadow-sm p-2 text-sm border focus:ring-indigo-500 focus:border-indigo-500",min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Stock"}),e.jsx("input",{type:"number",value:l.stock,onChange:x=>me(d,"stock",parseInt(x.target.value)||0),className:"block w-full rounded-md border-gray-300 shadow-sm p-2 text-sm border focus:ring-indigo-500 focus:border-indigo-500",min:"0"})]})]})]},d)),e.jsxs("button",{type:"button",onClick:is,className:"w-full flex items-center justify-center px-4 py-2 border border-dashed border-green-400 text-sm font-medium rounded-md text-green-800 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition",children:[e.jsx(Z,{className:"w-4 h-4 mr-1"})," Add Variant"]})]}),e.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-4 border-t pt-6",children:[e.jsx("legend",{className:"md:col-span-3 text-xl font-bold text-gray-800 mb-4",children:" Product Specifications "}),ps()]}),H&&e.jsxs("fieldset",{className:"space-y-4 border-t pt-6",children:[e.jsx("legend",{className:"text-xl font-bold text-gray-800 mb-4",children:" Bundle Description "}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bundleDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bundle Description"}),e.jsx("textarea",{name:"bundleDescription",id:"bundleDescription",value:s.bundleDescription,onChange:_,rows:"3",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border"})]})]}),e.jsxs("fieldset",{className:"border-t pt-6",children:[e.jsxs("legend",{className:"text-xl font-bold text-gray-800 mb-4",children:["Images (Max 5 total) ",!m&&e.jsx("span",{className:"text-red-500",children:"* Required for new"})]}),e.jsx("input",{type:"file",id:"file-upload",accept:"image/*",onChange:R,className:"hidden",style:{display:"none"}}),e.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 bg-indigo-50 text-indigo-700 rounded-lg hover:bg-indigo-100 border border-indigo-200 mb-4 font-medium",children:[e.jsx(Z,{className:"w-5 h-5 mr-2"})," Select & Crop Image"]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[(Xe=s.imagePaths)==null?void 0:Xe.map((l,d)=>e.jsxs("div",{className:"relative w-24 h-24 rounded-lg overflow-hidden border border-gray-300 opacity-80",children:[e.jsx("img",{src:l,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs text-center p-1",children:"Existing"})]},`existing-${d}`)),s.selectedFiles.map((l,d)=>e.jsxs("div",{className:"relative group w-24 h-24 rounded-lg overflow-hidden border-2 border-green-500",children:[e.jsx("img",{src:URL.createObjectURL(l),className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>ns(d),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 shadow-md hover:bg-red-600",children:e.jsx(U,{size:12})})]},`new-${d}`))]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Images are forced to 4:5 ratio for perfect display."})]}),H&&e.jsxs("fieldset",{className:"bg-yellow-50 p-6 rounded-xl border border-yellow-200 space-y-6",children:[e.jsxs("legend",{className:"text-xl font-bold text-yellow-800 flex items-center",children:[e.jsx(ne,{className:"w-5 h-5 mr-2"})," Bundle Items (Up to 10)"]}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Define the components and their scent options."}),s.bundleItems.map((l,d)=>e.jsxs("div",{className:"p-4 border border-yellow-300 rounded-lg bg-white shadow-sm relative",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex justify-between items-center",children:["Item #",d+1,s.bundleItems.length>1&&e.jsx("button",{type:"button",onClick:()=>as(d),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50 transition",title:"Remove Item",children:e.jsx(U,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:l.subProductName,onChange:x=>He(d,"subProductName",x.target.value),required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm p-2 text-sm border focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Size"}),e.jsx("input",{type:"text",value:l.size,onChange:x=>He(d,"size",x.target.value),required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm p-2 text-sm border focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 200 gm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Allowed Scents (Comma Separated)"}),e.jsx("input",{type:"text",value:l.allowedScents.join(", "),onChange:x=>rs(d,x.target.value),required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm p-2 text-sm border focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Rose, Vanilla"})]})]})]},d)),s.bundleItems.length<10&&e.jsxs("button",{type:"button",onClick:os,className:"w-full flex items-center justify-center px-4 py-2 border border-dashed border-yellow-400 text-sm font-medium rounded-md text-yellow-800 bg-yellow-100 hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 transition",children:[e.jsx(Z,{className:"w-4 h-4 mr-1"})," Add Bundle Item"]})]}),e.jsx("div",{className:"pt-6 border-t mt-8",children:e.jsx("button",{type:"submit",disabled:t,className:"w-full flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-xl shadow-lg text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 transition",children:t?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-5 h-5 mr-3 animate-spin"})," Submitting..."]}):m?"Update Product":"Submit Product / Bundle"})})]})]}),!p&&e.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Manage Products"}),c.length===0?e.jsx("p",{className:"text-gray-500",children:"No products found. Add one using the form above!"}):e.jsx("div",{className:"overflow-x-auto relative shadow-md sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Image"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Name"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Type"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Price (EGP)"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Stock"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Variants"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Status"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Actions"})]})}),e.jsx("tbody",{children:c.map(l=>{var d,x;return e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("img",{src:((d=l.imagePaths)==null?void 0:d[0])||"https://placehold.co/40x40/cccccc/ffffff?text=?",alt:"",className:"w-10 h-10 object-cover rounded"})}),e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",children:l.name_en||l.bundleName||l.name||"N/A"}),e.jsx("td",{className:"px-4 py-3",children:l.productType}),e.jsx("td",{className:"px-4 py-3",children:(x=l.price_egp)==null?void 0:x.toFixed(2)}),e.jsx("td",{className:"px-4 py-3",children:l.stock}),e.jsx("td",{className:"px-4 py-3",children:l.variants&&l.variants.length>0?e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[l.variants.length," variants"]}):e.jsx("span",{className:"text-gray-400 text-xs",children:"No variants"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${l.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l.status})}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsx("button",{onClick:()=>ds(l),title:"Edit",className:"text-indigo-600 hover:text-indigo-900 p-1 hover:bg-indigo-50 rounded",children:e.jsx(Q,{size:16})}),e.jsx("button",{onClick:()=>us(l._id,l.name_en||l.bundleName||l.name),title:"Delete",className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded",children:e.jsx(ee,{size:16})})]})]},l._id)})})]})})]})]})},Ge="https://siraj-backend.onrender.com",Xt=()=>{var N,P,j;const[s,n]=u.useState([]),[t,r]=u.useState(!0),[o,a]=u.useState(!1),[c,i]=u.useState(""),[p,h]=u.useState(null),m=u.useCallback(async()=>{i("");try{const g=await fetch(`${Ge}/api/orders`);if(!g.ok)throw new Error(`Failed to fetch orders: ${g.statusText}`);const S=await g.json();n(S||[])}catch(g){console.error("Error fetching orders:",g),i(`Error: Could not load orders. ${g.message}`),n([])}},[]);u.useEffect(()=>{r(!0),m().finally(()=>r(!1))},[m]);const C=async(g,S)=>{if(window.confirm(`Update order ${g.slice(-6)} status to "${S}"?`)){a(!0);try{const b=await fetch(`${Ge}/api/orders/${g}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:S})}),y=await b.json();b.ok&&y.order?(console.log(`Order ${g.slice(-6)} status updated.`),await m()):(i(`Error updating order: ${y.message||y.error||`Status ${b.status}`}`),console.error("API Error:",y))}catch(b){i(`Network Error: ${b.message}.`),console.error("Order Update Error:",b)}finally{a(!1)}}},f=g=>h(g),w=()=>h(null);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Order Management"}),c&&e.jsx("div",{className:`p-3 mb-6 rounded-lg font-medium text-sm border ${c.startsWith("Error")?"bg-red-50 text-red-700 border-red-300":"bg-green-50 text-green-700 border-green-300"}`,children:c}),t?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(X,{className:"w-8 h-8 animate-spin text-indigo-600"})}):s.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No orders found yet."}):e.jsx("div",{className:"overflow-x-auto relative shadow-md sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Order ID"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Date"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Customer"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Total (EGP)"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Status"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Actions"})]})}),e.jsx("tbody",{children:s.map(g=>{var S,b;return e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap truncate",style:{maxWidth:"100px"},title:g._id,children:["...",g._id.slice(-6)]}),e.jsx("td",{className:"px-4 py-3",children:new Date(g.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3",children:((S=g.customerInfo)==null?void 0:S.name)||"N/A"}),e.jsx("td",{className:"px-4 py-3",children:(b=g.totalAmount)==null?void 0:b.toFixed(2)}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("select",{value:g.status,onChange:y=>C(g._id,y.target.value),className:`p-1 rounded text-xs border focus:outline-none focus:ring-1 focus:ring-indigo-500 ${g.status==="Delivered"?"bg-green-100 text-green-800 border-green-300":g.status==="Shipped"?"bg-blue-100 text-blue-800 border-blue-300":g.status==="Processing"?"bg-yellow-100 text-yellow-800 border-yellow-300":g.status==="Cancelled"?"bg-red-100 text-red-800 border-red-300":"bg-gray-100 text-gray-800 border-gray-300"}`,disabled:o,children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Processing",children:"Processing"}),e.jsx("option",{value:"Shipped",children:"Shipped"}),e.jsx("option",{value:"Delivered",children:"Delivered"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>f(g),title:"View Details",className:"text-gray-500 hover:text-indigo-600 p-1 hover:bg-gray-100 rounded",children:e.jsx(pt,{size:16})})})]},g._id)})})]})})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 overflow-y-auto h-full w-full flex items-center justify-center z-50 p-4",onClick:w,children:e.jsxs("div",{className:"relative mx-auto p-6 border w-full max-w-2xl shadow-lg rounded-md bg-white",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Order Details (...",p._id.slice(-6),")"]}),e.jsxs("button",{onClick:w,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:[e.jsx(U,{size:20}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsxs("div",{className:"text-sm space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("div",{children:e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(p.createdAt).toLocaleString()]})}),e.jsx("div",{children:e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",p.status]})}),e.jsx("div",{children:e.jsxs("p",{children:[e.jsx("strong",{children:"Customer:"})," ",p.customerInfo.name]})}),e.jsx("div",{children:e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",p.customerInfo.email]})}),e.jsx("div",{children:e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",p.customerInfo.phone]})}),e.jsx("div",{children:e.jsxs("p",{children:[e.jsx("strong",{children:"Payment:"})," ",p.paymentMethod]})}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",p.customerInfo.address,", ",p.customerInfo.city]})}),p.customerInfo.notes&&e.jsx("div",{className:"md:col-span-2",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",p.customerInfo.notes]})})]}),e.jsx("hr",{}),e.jsx("p",{className:"font-semibold mt-4",children:e.jsx("strong",{children:"Items:"})}),e.jsx("ul",{className:"list-disc list-inside space-y-1 pl-1",children:p.items.map((g,S)=>{var b;return e.jsxs("li",{children:[g.name," x ",g.quantity," @ ",(b=g.price)==null?void 0:b.toFixed(2)," EGP",g.customization&&g.customization.length>0&&e.jsxs("span",{className:"text-xs text-gray-500",children:[" (",g.customization.join(", "),")"]})]},S)})}),e.jsx("hr",{className:"my-4"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 text-right",children:[e.jsx("p",{children:"Subtotal:"}),e.jsxs("p",{children:[(N=p.subtotal)==null?void 0:N.toFixed(2)," EGP"]}),e.jsx("p",{children:"Shipping:"}),e.jsxs("p",{children:[(P=p.shippingFee)==null?void 0:P.toFixed(2)," EGP"]}),e.jsx("p",{className:"font-bold",children:"Total:"}),e.jsxs("p",{className:"font-bold",children:[(j=p.totalAmount)==null?void 0:j.toFixed(2)," EGP"]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:w,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400",children:"Close"})})]})})]})},pe="https://siraj-backend.onrender.com",Jt=()=>{const[s,n]=u.useState([]),[t,r]=u.useState(!0),[o,a]=u.useState(!1),[c,i]=u.useState(""),[p,h]=u.useState(null),[m,C]=u.useState({city:"",shippingFee:""}),f=async()=>{try{const j=await fetch(`${pe}/api/shipping-rates`);if(j.ok){const g=await j.json();n(g)}else throw new Error("Failed to fetch shipping rates")}catch(j){console.error("Error:",j),i("Error loading shipping rates")}finally{r(!1)}};u.useEffect(()=>{f()},[]);const w=async j=>{if(j.preventDefault(),!m.city.trim()||!m.shippingFee){i("Please fill in both city and shipping fee");return}a(!0);try{const g=await fetch(`${pe}/api/shipping-rates`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:m.city.trim(),shippingFee:parseFloat(m.shippingFee)})});if(g.ok)i("Shipping rate added successfully"),C({city:"",shippingFee:""}),await f();else{const S=await g.json();i(S.message||"Error adding shipping rate")}}catch(g){i("Network error: "+g.message)}finally{a(!1)}},N=async(j,g)=>{a(!0);try{const S=await fetch(`${pe}/api/shipping-rates/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(S.ok)i("Shipping rate updated successfully"),h(null),await f();else{const b=await S.json();i(b.message||"Error updating shipping rate")}}catch(S){i("Network error: "+S.message)}finally{a(!1)}},P=async j=>{if(window.confirm("Are you sure you want to delete this shipping rate?")){a(!0);try{const g=await fetch(`${pe}/api/shipping-rates/${j}`,{method:"DELETE"});if(g.ok)i("Shipping rate deleted successfully"),await f();else{const S=await g.json();i(S.message||"Error deleting shipping rate")}}catch(g){i("Network error: "+g.message)}finally{a(!1)}}};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Shipping Management"}),c&&e.jsx("div",{className:`p-3 mb-6 rounded-lg font-medium text-sm border ${c.startsWith("Error")?"bg-red-50 text-red-700 border-red-300":"bg-green-50 text-green-700 border-green-300"}`,children:c}),e.jsxs("form",{onSubmit:w,className:"bg-gray-50 p-4 rounded-lg mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Add New Shipping Rate"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),e.jsx("input",{type:"text",value:m.city,onChange:j=>C({...m,city:j.target.value}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"Enter city name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Fee (EGP)"}),e.jsx("input",{type:"number",value:m.shippingFee,onChange:j=>C({...m,shippingFee:j.target.value}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"0.00",min:"0",step:"0.01",required:!0})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center px-4 py-3 border border-transparent text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Add Rate"]})})]})]}),t?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(X,{className:"w-8 h-8 animate-spin text-indigo-600"})}):s.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No shipping rates configured yet."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"City"}),e.jsx("th",{className:"px-4 py-3",children:"Shipping Fee (EGP)"}),e.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),e.jsx("tbody",{children:s.map(j=>e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:p===j._id?e.jsx("input",{type:"text",defaultValue:j.city,onBlur:g=>N(j._id,{city:g.target.value}),className:"w-full p-2 border rounded"}):j.city}),e.jsx("td",{className:"px-4 py-3",children:p===j._id?e.jsx("input",{type:"number",defaultValue:j.shippingFee,onBlur:g=>N(j._id,{shippingFee:parseFloat(g.target.value)}),className:"w-full p-2 border rounded",step:"0.01",min:"0"}):j.shippingFee.toFixed(2)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap space-x-2",children:p===j._id?e.jsx("button",{onClick:()=>h(null),className:"text-gray-500 hover:text-gray-700 p-1",children:e.jsx(U,{size:16})}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>h(j._id),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit",children:e.jsx(Q,{size:16})}),e.jsx("button",{onClick:()=>P(j._id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete",children:e.jsx(ee,{size:16})})]})})]},j._id))})]})})]})})},he="https://siraj-backend.onrender.com",Yt=()=>{const[s,n]=u.useState([]),[t,r]=u.useState(!0),[o,a]=u.useState(!1),[c,i]=u.useState(""),[p,h]=u.useState(!1),[m,C]=u.useState(null),[f,w]=u.useState({code:"",type:"percentage",value:"",appliesTo:"entire",categories:[],products:[],status:"active"}),N=async()=>{try{const b=await fetch(`${he}/api/discounts`);if(b.ok){const y=await b.json();n(y)}else throw new Error("Failed to fetch discounts")}catch(b){console.error("Error:",b),i("Error loading discounts")}finally{r(!1)}};u.useEffect(()=>{N()},[]);const P=()=>{w({code:"",type:"percentage",value:"",appliesTo:"entire",categories:[],products:[],status:"active"}),C(null),h(!1)},j=async b=>{b.preventDefault(),a(!0);try{const y={...f,value:parseFloat(f.value)},O=m?`${he}/api/discounts/${m._id}`:`${he}/api/discounts`,E=await fetch(O,{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(E.ok)i(m?"Discount updated successfully":"Discount created successfully"),P(),await N();else{const D=await E.json();i(D.message||"Error saving discount")}}catch(y){i("Network error: "+y.message)}finally{a(!1)}},g=async b=>{if(window.confirm("Are you sure you want to delete this discount?")){a(!0);try{const y=await fetch(`${he}/api/discounts/${b}`,{method:"DELETE"});if(y.ok)i("Discount deleted successfully"),await N();else{const O=await y.json();i(O.message||"Error deleting discount")}}catch(y){i("Network error: "+y.message)}finally{a(!1)}}},S=b=>{w({code:b.code,type:b.type,value:b.value.toString(),appliesTo:b.appliesTo,categories:b.categories||[],products:b.products||[],status:b.status}),C(b),h(!0)};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Discount Management"}),e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Add Discount"]})]}),c&&e.jsx("div",{className:`p-3 mb-6 rounded-lg font-medium text-sm border ${c.startsWith("Error")?"bg-red-50 text-red-700 border-red-300":"bg-green-50 text-green-700 border-green-300"}`,children:c}),p&&e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:m?"Edit Discount":"Create New Discount"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Code"}),e.jsx("input",{type:"text",value:f.code,onChange:b=>w({...f,code:b.target.value.toUpperCase()}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"SUMMER20",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Type"}),e.jsxs("select",{value:f.type,onChange:b=>w({...f,type:b.target.value}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",children:[e.jsx("option",{value:"percentage",children:"Percentage (%)"}),e.jsx("option",{value:"fixed",children:"Fixed Amount (EGP)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f.type==="percentage"?"Percentage Value":"Fixed Amount (EGP)"}),e.jsx("input",{type:"number",value:f.value,onChange:b=>w({...f,value:b.target.value}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:f.type==="percentage"?"20":"50",min:"0",step:f.type==="percentage"?"1":"0.01",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:f.status,onChange:b=>w({...f,status:b.target.value}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsxs("button",{type:"submit",disabled:o,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),m?"Update Discount":"Create Discount"]}),e.jsxs("button",{type:"button",onClick:P,className:"flex items-center px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),t?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(X,{className:"w-8 h-8 animate-spin text-indigo-600"})}):s.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No discounts created yet."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Code"}),e.jsx("th",{className:"px-4 py-3",children:"Type"}),e.jsx("th",{className:"px-4 py-3",children:"Value"}),e.jsx("th",{className:"px-4 py-3",children:"Status"}),e.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),e.jsx("tbody",{children:s.map(b=>e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:b.code}),e.jsx("td",{className:"px-4 py-3 capitalize",children:b.type}),e.jsx("td",{className:"px-4 py-3",children:b.type==="percentage"?`${b.value}%`:`${b.value.toFixed(2)} EGP`}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${b.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.status})}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap space-x-2",children:[e.jsx("button",{onClick:()=>S(b),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit",children:e.jsx(Q,{size:16})}),e.jsx("button",{onClick:()=>g(b._id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete",children:e.jsx(ee,{size:16})})]})]},b._id))})]})})]})})},se="https://siraj-backend.onrender.com",Kt=()=>{const[s,n]=u.useState([]),[t,r]=u.useState([]),[o,a]=u.useState(!0),[c,i]=u.useState(!1),[p,h]=u.useState(""),[m,C]=u.useState(!1),[f,w]=u.useState(null),[N,P]=u.useState({category:"",careTitle:"",careContent:""}),j=async()=>{try{const v=await fetch(`${se}/api/care`);if(v.ok){const E=await v.json();n(E)}else throw new Error("Failed to fetch care instructions")}catch(v){console.error("Error:",v),h("Error loading care instructions")}finally{a(!1)}},g=async()=>{try{const v=await fetch(`${se}/api/categories`);if(v.ok){const E=await v.json();r(E)}}catch(v){console.error("Error fetching categories:",v)}};u.useEffect(()=>{Promise.all([j(),g()])},[]);const S=()=>{P({category:"",careTitle:"",careContent:""}),w(null),C(!1)},b=async v=>{if(v.preventDefault(),!N.category||!N.careTitle||!N.careContent){h("Please fill in all fields");return}i(!0);try{const E=f?`${se}/api/care/${f._id}`:`${se}/api/care`,A=await fetch(E,{method:f?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(A.ok)h(f?"Care instructions updated successfully":"Care instructions created successfully"),S(),await j();else{const R=await A.json();h(R.message||"Error saving care instructions")}}catch(E){h("Network error: "+E.message)}finally{i(!1)}},y=async v=>{if(window.confirm("Are you sure you want to delete these care instructions?")){i(!0);try{const E=await fetch(`${se}/api/care/${v}`,{method:"DELETE"});if(E.ok)h("Care instructions deleted successfully"),await j();else{const D=await E.json();h(D.message||"Error deleting care instructions")}}catch(E){h("Network error: "+E.message)}finally{i(!1)}}},O=v=>{P({category:v.category,careTitle:v.careTitle,careContent:v.careContent}),w(v),C(!0)};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Product Care Instructions"}),e.jsxs("button",{onClick:()=>C(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Add Care Instructions"]})]}),p&&e.jsx("div",{className:`p-3 mb-6 rounded-lg font-medium text-sm border ${p.startsWith("Error")?"bg-red-50 text-red-700 border-red-300":"bg-green-50 text-green-700 border-green-300"}`,children:p}),m&&e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:f?"Edit Care Instructions":"Add New Care Instructions"}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{value:N.category,onChange:v=>P({...N,category:v.target.value}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),t.map(v=>e.jsx("option",{value:v.name,children:v.name},v._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Care Title"}),e.jsx("input",{type:"text",value:N.careTitle,onChange:v=>P({...N,careTitle:v.target.value}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Candle Care, Usage Instructions",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Care Content"}),e.jsx("textarea",{value:N.careContent,onChange:v=>P({...N,careContent:v.target.value}),rows:"6",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"Enter detailed care instructions...",required:!0})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsxs("button",{type:"submit",disabled:c,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),f?"Update Instructions":"Create Instructions"]}),e.jsxs("button",{type:"button",onClick:S,className:"flex items-center px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),o?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(X,{className:"w-8 h-8 animate-spin text-indigo-600"})}):s.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No care instructions created yet."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Category"}),e.jsx("th",{className:"px-4 py-3",children:"Title"}),e.jsx("th",{className:"px-4 py-3",children:"Content Preview"}),e.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),e.jsx("tbody",{children:s.map(v=>e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:v.category}),e.jsx("td",{className:"px-4 py-3",children:v.careTitle}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"max-w-xs truncate",title:v.careContent,children:v.careContent})}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap space-x-2",children:[e.jsx("button",{onClick:()=>O(v),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit",children:e.jsx(Q,{size:16})}),e.jsx("button",{onClick:()=>y(v._id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete",children:e.jsx(ee,{size:16})})]})]},v._id))})]})})]})})},Y="https://siraj-backend.onrender.com",Qt=()=>{const[s,n]=u.useState([]),[t,r]=u.useState(!0),[o,a]=u.useState(!1),[c,i]=u.useState(""),[p,h]=u.useState(!1),[m,C]=u.useState(null),[f,w]=u.useState({name:"",sortOrder:0}),N=async()=>{try{const y=await fetch(`${Y}/api/categories`);if(y.ok){const v=(await y.json()).sort((E,D)=>E.sortOrder-D.sortOrder);n(v)}else throw new Error("Failed to fetch categories")}catch(y){console.error("Error:",y),i("Error loading categories")}finally{r(!1)}};u.useEffect(()=>{N()},[]);const P=()=>{w({name:"",sortOrder:s.length>0?Math.max(...s.map(y=>y.sortOrder))+1:0}),C(null),h(!1)},j=async y=>{if(y.preventDefault(),!f.name.trim()){i("Please enter a category name");return}a(!0);try{const O=m?`${Y}/api/categories/${m._id}`:`${Y}/api/categories`,E=await fetch(O,{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(E.ok)i(m?"Category updated successfully":"Category created successfully"),P(),await N();else{const D=await E.json();i(D.message||"Error saving category")}}catch(O){i("Network error: "+O.message)}finally{a(!1)}},g=async y=>{if(window.confirm("Are you sure you want to delete this category?")){a(!0);try{const O=await fetch(`${Y}/api/categories/${y}`,{method:"DELETE"});if(O.ok)i("Category deleted successfully"),await N();else{const v=await O.json();i(v.message||"Error deleting category")}}catch(O){i("Network error: "+O.message)}finally{a(!1)}}},S=y=>{w({name:y.name,sortOrder:y.sortOrder}),C(y),h(!0)},b=async(y,O)=>{if(!s.find(I=>I._id===y))return;const E=s.findIndex(I=>I._id===y);let D;if(O==="up"&&E>0)D=E-1;else if(O==="down"&&E<s.length-1)D=E+1;else return;const A=[...s],R=A[E].sortOrder;A[E].sortOrder=A[D].sortOrder,A[D].sortOrder=R,n(A.sort((I,_)=>I.sortOrder-_.sortOrder));try{await Promise.all([fetch(`${Y}/api/categories/${y}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({sortOrder:A.find(I=>I._id===y).sortOrder})}),fetch(`${Y}/api/categories/${A[D]._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({sortOrder:A[D].sortOrder})})]),i("Category order updated successfully"),await N()}catch(I){i("Error updating category order"),console.error("Error:",I)}};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Category Management"}),e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Add Category"]})]}),c&&e.jsx("div",{className:`p-3 mb-6 rounded-lg font-medium text-sm border ${c.startsWith("Error")?"bg-red-50 text-red-700 border-red-300":"bg-green-50 text-green-700 border-green-300"}`,children:c}),p&&e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:m?"Edit Category":"Add New Category"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name"}),e.jsx("input",{type:"text",value:f.name,onChange:y=>w({...f,name:y.target.value}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., New Collection",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),e.jsx("input",{type:"number",value:f.sortOrder,onChange:y=>w({...f,sortOrder:parseInt(y.target.value)}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",min:"0",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsxs("button",{type:"submit",disabled:o,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),m?"Update Category":"Create Category"]}),e.jsxs("button",{type:"button",onClick:P,className:"flex items-center px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),t?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(X,{className:"w-8 h-8 animate-spin text-indigo-600"})}):s.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No categories created yet."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Order"}),e.jsx("th",{className:"px-4 py-3",children:"Category Name"}),e.jsx("th",{className:"px-4 py-3",children:"Sort Order"}),e.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),e.jsx("tbody",{children:s.map((y,O)=>e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-gray-100 rounded-full text-sm",children:O+1}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("button",{onClick:()=>b(y._id,"up"),disabled:O===0,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30",children:e.jsx(ut,{size:14})}),e.jsx("button",{onClick:()=>b(y._id,"down"),disabled:O===s.length-1,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30",children:e.jsx(dt,{size:14})})]})]})}),e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:y.name}),e.jsx("td",{className:"px-4 py-3",children:y.sortOrder}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap space-x-2",children:[e.jsx("button",{onClick:()=>S(y),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit",children:e.jsx(Q,{size:16})}),e.jsx("button",{onClick:()=>g(y._id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete",children:e.jsx(ee,{size:16})})]})]},y._id))})]})})]})})},es=()=>{var c;const[s,n]=u.useState("products"),[t,r]=u.useState(!1),o=[{id:"products",name:"Products",icon:ne},{id:"orders",name:"Orders",icon:xt},{id:"shipping",name:"Shipping",icon:bt},{id:"discounts",name:"Discounts",icon:ft},{id:"care",name:"Product Care",icon:mt},{id:"categories",name:"Categories",icon:ht}],a=()=>{switch(s){case"products":return e.jsx(Ze,{});case"orders":return e.jsx(Xt,{});case"shipping":return e.jsx(Jt,{});case"discounts":return e.jsx(Yt,{});case"care":return e.jsx(Kt,{});case"categories":return e.jsx(Qt,{});default:return e.jsx(Ze,{})}};return e.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[t&&e.jsx("div",{className:"fixed inset-0 flex z-40 md:hidden",onClick:()=>r(!1),children:e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),e.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition duration-300 ease-in-out
        ${t?"translate-x-0":"-translate-x-full"} 
        md:translate-x-0 md:static md:inset-0
      `,children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 bg-indigo-600 text-white",children:[e.jsx("h1",{className:"text-xl font-bold",children:"Siraj Admin"}),e.jsx("button",{onClick:()=>r(!1),className:"md:hidden",children:e.jsx(U,{className:"w-6 h-6"})})]}),e.jsx("nav",{className:"mt-8 px-4",children:e.jsx("ul",{className:"space-y-2",children:o.map(i=>{const p=i.icon;return e.jsx("li",{children:e.jsxs("button",{onClick:()=>{n(i.id),r(!1)},className:`
                      w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors
                      ${s===i.id?"bg-indigo-100 text-indigo-700 border-l-4 border-indigo-500":"text-gray-600 hover:bg-gray-100"}
                    `,children:[e.jsx(p,{className:"w-5 h-5 mr-3"}),i.name]})},i.id)})})})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx("header",{className:"bg-white shadow-sm z-10",children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsx("button",{onClick:()=>r(!0),className:"md:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100",children:e.jsx(gt,{className:"w-6 h-6"})}),e.jsx("div",{className:"flex-1 text-center md:text-left",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-800 capitalize",children:((c=o.find(i=>i.id===s))==null?void 0:c.name)||"Dashboard"})})]})}),e.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6",children:a()})]})]})};q.AdminDashboard=es,Object.defineProperty(q,Symbol.toStringTag,{value:"Module"})});
