(function(N,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],n):(N=typeof globalThis<"u"?globalThis:N||self,n(N.AdminProductUploader={},N.React))})(this,function(N,n){"use strict";var U={exports:{}},O={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var se=n,te=Symbol.for("react.element"),ae=Symbol.for("react.fragment"),oe=Object.prototype.hasOwnProperty,ne=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,re={key:!0,ref:!0,__self:!0,__source:!0};function L(s,r,p){var c,g={},i=null,w=null;p!==void 0&&(i=""+p),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(w=r.ref);for(c in r)oe.call(r,c)&&!re.hasOwnProperty(c)&&(g[c]=r[c]);if(s&&s.defaultProps)for(c in r=s.defaultProps,r)g[c]===void 0&&(g[c]=r[c]);return{$$typeof:te,type:s,key:i,ref:w,props:g,_owner:ne.current}}O.Fragment=ae,O.jsx=L,O.jsxs=L,U.exports=O;var e=U.exports;/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V=(...s)=>s.filter((r,p,c)=>!!r&&c.indexOf(r)===p).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=n.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:p=2,absoluteStrokeWidth:c,className:g="",children:i,iconNode:w,...T},I)=>n.createElement("svg",{ref:I,...ie,width:r,height:r,stroke:s,strokeWidth:c?Number(p)*24/Number(r):p,className:V("lucide",g),...T},[...w.map(([P,D])=>n.createElement(P,D)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=(s,r)=>{const p=n.forwardRef(({className:c,...g},i)=>n.createElement(de,{ref:i,iconNode:r,className:V(`lucide-${le(s)}`,c),...g}));return p.displayName=`${s}`,p};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=j("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=j("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=j("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=j("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=j("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=j("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=j("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=j("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),k="https://siraj-backend.onrender.com",F={subProductName:"Item",size:"",allowedScents:["Vanilla Cookie"]},B={_id:null,productType:"Single",category:"",price_egp:0,stock:0,status:"Active",featured:!1,name_en:"",description_en:"",scents:[],size:"",formattedDescription:"",burnTime:"",wickType:"",coverageSpace:"",bundleName:"",bundleDescription:"",bundleItems:[{...F,subProductName:"Big Jar Candle 1"},{...F,subProductName:"Big Jar Candle 2"},{...F,subProductName:"Wax Freshener"}],selectedFiles:[],imagePaths:[],weight:"",skinType:"",featureBenefit:"",color:"",dimensions:"",soapWeight:"",oilWeight:"",massageWeight:"",fizzySpecs:"",scentOptions:[],sizeOptions:[],weightOptions:[],typeOptions:[],shapeOptions:[],keyIngredients:[]},xe=()=>{var X,Q,Y,q;const[s,r]=n.useState(B),[p,c]=n.useState(!1),[g,i]=n.useState(""),[w,T]=n.useState([]),[I,P]=n.useState([]),[D,H]=n.useState(!0),[x,J]=n.useState(!1),[m,Z]=n.useState(null),_=n.useCallback(async()=>{i("");try{const t=await fetch(`${k}/api/products?limit=1000&status=Active&status=Inactive`);if(!t.ok)throw new Error(`Failed to fetch products: ${t.statusText}`);const a=await t.json();T(a.results||[])}catch(t){console.error("Error fetching products:",t),i(`Error: Could not load products. ${t.message}`),T([])}},[]),E=n.useCallback(async()=>{i("");try{const t=await fetch(`${k}/api/orders`);if(!t.ok)throw new Error(`Failed to fetch orders: ${t.statusText}`);const a=await t.json();P(a||[])}catch(t){console.error("Error fetching orders:",t),i(`Error: Could not load orders. ${t.message}`),P([])}},[]);n.useEffect(()=>{H(!0),Promise.all([_(),E()]).catch(t=>console.error("Error during initial data load:",t)).finally(()=>H(!1))},[_,E]);const W=n.useCallback(()=>{r(B),J(!1);const t=document.getElementById("file-upload");t&&(t.value=null),i(""),window.scrollTo({top:0,behavior:"smooth"})},[]),d=n.useCallback(t=>{const{name:a,value:o,type:l,checked:h}=t.target;r(y=>({...y,[a]:l==="checkbox"?h:o}))},[]),be=n.useCallback(t=>{const a=parseFloat(t.target.value)||0;r(o=>({...o,price_egp:a}))},[]),fe=n.useCallback(t=>{const a=parseInt(t.target.value,10)||0;r(o=>({...o,stock:a}))},[]),b=n.useCallback((t,a)=>{const o=a.split(",").map(l=>l.trim()).filter(Boolean);r(l=>({...l,[t]:o}))},[]),S=n.useCallback(t=>{const a=t.target.value.split(",").map(o=>o.trim()).filter(Boolean);r(o=>({...o,scents:a}))},[]),ye=n.useCallback((t,a)=>{const o=a.split(",").map(l=>l.trim()).filter(Boolean);r(l=>{const h=[...l.bundleItems];return h[t].allowedScents=o,{...l,bundleItems:h}})},[]),je=n.useCallback(t=>{const a=Array.from(t.target.files);r(o=>({...o,selectedFiles:a.slice(0,5)}))},[]),Ne=n.useCallback(t=>{r(a=>({...a,selectedFiles:a.selectedFiles.filter((o,l)=>l!==t)}))},[]),K=n.useCallback((t,a,o)=>{r(l=>{const h=[...l.bundleItems];return h[t][a]=o,{...l,bundleItems:h}})},[]),we=n.useCallback(()=>{s.bundleItems.length<10&&r(t=>({...t,bundleItems:[...t.bundleItems,{...F,subProductName:`Item ${t.bundleItems.length+1}`}]}))},[s.bundleItems.length]),ve=n.useCallback(t=>{s.bundleItems.length>1&&r(a=>({...a,bundleItems:a.bundleItems.filter((o,l)=>l!==t)}))},[s.bundleItems.length]),ke=async t=>{var y,C,$;if(t.preventDefault(),c(!0),i(""),!x&&s.selectedFiles.length===0){i("Error: Please upload at least one image for new products."),c(!1);return}if(!s.category){i("Error: Category is required."),c(!1);return}if(s.productType==="Single"&&!s.name_en.trim()){i("Error: Name (English) is required for Single products."),c(!1);return}if(s.productType==="Bundle"&&!s.bundleName.trim()){i("Error: Bundle Name is required for Bundles."),c(!1);return}let a={productType:s.productType,category:s.category,price_egp:s.price_egp,stock:s.stock,status:s.status,featured:s.featured,size:s.size,formattedDescription:s.formattedDescription,burnTime:s.burnTime,wickType:s.wickType,coverageSpace:s.coverageSpace,weight:s.weight,skinType:s.skinType,featureBenefit:s.featureBenefit,color:s.color,dimensions:s.dimensions,soapWeight:s.soapWeight,oilWeight:s.oilWeight,massageWeight:s.massageWeight,fizzySpecs:s.fizzySpecs,scents:s.scents.join(", "),scentOptions:s.scentOptions.join(", "),sizeOptions:s.sizeOptions.join(", "),weightOptions:s.weightOptions.join(", "),typeOptions:s.typeOptions.join(", "),shapeOptions:s.shapeOptions.join(", "),keyIngredients:s.keyIngredients.join(", ")};if(s.productType==="Single"){a.name_en=s.name_en,a.description_en=s.description_en;const f=s.category,M={Candles:["burnTime","wickType","coverageSpace","scents"],"Pottery Collection":["burnTime","wickType","coverageSpace","scentOptions"],"Wax Burners":["typeOptions","dimensions"],Deodorant:["scents","skinType","keyIngredients"],Soap:["scents","soapWeight","featureBenefit","keyIngredients"],"Body Splash":["scents","sizeOptions"],"Shimmering Body Oil":["color","scents","oilWeight"],"Massage Candles":["scents","massageWeight"],Fresheners:["scentOptions"],"Wax Melts":["weightOptions","scentOptions"],"Car Diffusers":["shapeOptions","scentOptions"],"Reed Diffusers":["scentOptions"],Sets:[],"Fizzy Salts":["fizzySpecs"]}[f]||[];Object.keys(a).forEach(R=>{!["productType","category","price_egp","stock","status","featured","name_en","description_en","size","formattedDescription"].includes(R)&&!M.includes(R)&&delete a[R]})}else a.bundleName=s.bundleName,a.bundleDescription=s.bundleDescription,a.bundleItems=s.bundleItems.map(u=>({...u,allowedScents:u.allowedScents.join(", ")})),["name_en","description_en","scents","size","formattedDescription","burnTime","wickType","coverageSpace","weight","skinType","featureBenefit","color","scentOptions","sizeOptions","weightOptions","typeOptions","shapeOptions","keyIngredients","dimensions","soapWeight","oilWeight","massageWeight","fizzySpecs"].forEach(u=>delete a[u]);const o=new FormData;s.selectedFiles.forEach(f=>{o.append("productImages",f)}),o.append("productData",JSON.stringify(a));const l=x?`${k}/api/products/${s._id}`:`${k}/api/products`,h=x?"PUT":"POST";try{const f=await fetch(l,{method:h,body:o}),u=await f.json();if(f.ok&&u.success){const M=x?"updated":"created",ee=((y=u.product)==null?void 0:y.name_en)||((C=u.product)==null?void 0:C.bundleName)||(($=u.product)==null?void 0:$.name)||"product";i(`Success! Product "${ee}" ${M}.`),W(),await _()}else i(`Error ${x?"updating":"creating"} product: ${u.message||u.error||`Server responded with status ${f.status}`}`),console.error("API Error:",u)}catch(f){i(`Network Error: ${f.message}. Please check connection or API URL.`),console.error("Submission Error:",f)}finally{c(!1)}},Se=t=>{const a=["scents","scentOptions","sizeOptions","weightOptions","typeOptions","shapeOptions","keyIngredients"],o={...t};a.forEach(y=>{o[y]=(t[y]||"").split(",").map(C=>C.trim()).filter(Boolean)});const l=(t.bundleItems||[]).map(y=>({...y,allowedScents:(y.allowedScents||"").split(",").map(C=>C.trim()).filter(Boolean)}));r({...B,...o,_id:t._id,bundleItems:l,selectedFiles:[],imagePaths:t.imagePaths||[]}),J(!0),i("Editing product. Upload images only to ADD new ones.");const h=document.getElementById("product-form-section");h&&h.scrollIntoView({behavior:"smooth"})},Ce=async(t,a)=>{if(window.confirm(`Are you sure you want to delete "${a}"? This cannot be undone.`)){c(!0),i("");try{const o=await fetch(`${k}/api/products/${t}`,{method:"DELETE"}),l=await o.json();o.ok&&l.success?(i(`Success! Product "${a}" deleted.`),await _(),s._id===t&&W()):(i(`Error deleting product: ${l.message||l.error||`Status ${o.status}`}`),console.error("API Error:",l))}catch(o){i(`Network Error: ${o.message}.`),console.error("Delete Error:",o)}finally{c(!1)}}},Oe=async(t,a)=>{if(window.confirm(`Update order ${t.slice(-6)} status to "${a}"?`)){c(!0);try{const o=await fetch(`${k}/api/orders/${t}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:a})}),l=await o.json();o.ok&&l.order?(console.log(`Order ${t.slice(-6)} status updated.`),await E()):(i(`Error updating order: ${l.message||l.error||`Status ${o.status}`}`),console.error("API Error:",l))}catch(o){i(`Network Error: ${o.message}.`),console.error("Order Update Error:",o)}finally{c(!1)}}},Fe=t=>Z(t),A=()=>Z(null),v=s.productType==="Bundle",Te=()=>{const{category:t}=s;if(v||!t)return e.jsx("div",{className:"md:col-span-3 text-center text-gray-500 italic p-4",children:v?"Specifications are defined per bundle item.":"Select a category to see specific options."});switch(t){case"Candles":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"burnTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Burn Time"}),e.jsx("input",{type:"text",name:"burnTime",id:"burnTime",value:s.burnTime,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 40-45 hours"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"wickType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Wick Type"}),e.jsx("input",{type:"text",name:"wickType",id:"wickType",value:s.wickType,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Cotton, Wood"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"coverageSpace",className:"block text-sm font-medium text-gray-700 mb-1",children:"Coverage Space"}),e.jsx("input",{type:"text",name:"coverageSpace",id:"coverageSpace",value:s.coverageSpace,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 15-20 m2 bedroom"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"scents",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent Name"}),e.jsx("input",{type:"text",name:"scents",id:"scents",value:s.scents.join(", "),onChange:S,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Note: Stock management per scent coming soon"})]})]});case"Pottery Collection":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"burnTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Burn Time"}),e.jsx("input",{type:"text",name:"burnTime",id:"burnTime",value:s.burnTime,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 40-45 hours"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"wickType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Wick Type"}),e.jsx("input",{type:"text",name:"wickType",id:"wickType",value:s.wickType,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Cotton, Wood"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"coverageSpace",className:"block text-sm font-medium text-gray-700 mb-1",children:"Coverage Space"}),e.jsx("input",{type:"text",name:"coverageSpace",id:"coverageSpace",value:s.coverageSpace,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 15-20 m2 bedroom"})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"scentOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent Options (Comma separated)"}),e.jsx("input",{type:"text",name:"scentOptions",id:"scentOptions",value:s.scentOptions.join(", "),onChange:a=>b("scentOptions",a.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla, Rose, Oud"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu for the customer. Stock management per scent coming soon"})]})]});case"Wax Burners":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"typeOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type Options (Comma separated)"}),e.jsx("input",{type:"text",name:"typeOptions",id:"typeOptions",value:s.typeOptions.join(", "),onChange:a=>b("typeOptions",a.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Pottery, Glass"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu. Stock management per type coming soon"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dimensions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Dimensions"}),e.jsx("input",{type:"text",name:"dimensions",id:"dimensions",value:s.dimensions,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 10x10x5 cm"})]})]});case"Deodorant":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"scents",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent"}),e.jsx("input",{type:"text",name:"scents",id:"scents",value:s.scents.join(", "),onChange:S,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Coconut & Lime"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"skinType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Skin Type"}),e.jsx("input",{type:"text",name:"skinType",id:"skinType",value:s.skinType,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., For Sensitive Skin"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"keyIngredients",className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Ingredients (Comma separated)"}),e.jsx("input",{type:"text",name:"keyIngredients",id:"keyIngredients",value:s.keyIngredients.join(", "),onChange:a=>b("keyIngredients",a.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vitamin E, Aloe Vera"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Displayed as product information (not a dropdown)"})]})]});case"Soap":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"scents",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent"}),e.jsx("input",{type:"text",name:"scents",id:"scents",value:s.scents.join(", "),onChange:S,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Lavender & Oats"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"soapWeight",className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight"}),e.jsx("input",{type:"text",name:"soapWeight",id:"soapWeight",value:s.soapWeight,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 100g"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"featureBenefit",className:"block text-sm font-medium text-gray-700 mb-1",children:"Feature / Benefit"}),e.jsx("input",{type:"text",name:"featureBenefit",id:"featureBenefit",value:s.featureBenefit,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., For Acne-Prone Skin"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"keyIngredients",className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Ingredients (Comma separated)"}),e.jsx("input",{type:"text",name:"keyIngredients",id:"keyIngredients",value:s.keyIngredients.join(", "),onChange:a=>b("keyIngredients",a.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Shea Butter, Vitamin E"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Displayed as product information (not a dropdown)"})]})]});case"Body Splash":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"scents",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent"}),e.jsx("input",{type:"text",name:"scents",id:"scents",value:s.scents.join(", "),onChange:S,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla Passion"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"sizeOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Size Options (Comma separated)"}),e.jsx("input",{type:"text",name:"sizeOptions",id:"sizeOptions",value:s.sizeOptions.join(", "),onChange:a=>b("sizeOptions",a.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 50ml, 100ml, 200ml"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu. Stock management per size coming soon"})]})]});case"Shimmering Body Oil":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),e.jsx("input",{type:"text",name:"color",id:"color",value:s.color,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Bronze, Gold"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"scents",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent"}),e.jsx("input",{type:"text",name:"scents",id:"scents",value:s.scents.join(", "),onChange:S,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Coconut"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"oilWeight",className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight / Size"}),e.jsx("input",{type:"text",name:"oilWeight",id:"oilWeight",value:s.oilWeight,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 50ml"})]})]});case"Massage Candles":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"scents",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent"}),e.jsx("input",{type:"text",name:"scents",id:"scents",value:s.scents.join(", "),onChange:S,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Lavender"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"massageWeight",className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight"}),e.jsx("input",{type:"text",name:"massageWeight",id:"massageWeight",value:s.massageWeight,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 150g"})]})]});case"Fresheners":return e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"scentOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent Options (Comma separated)"}),e.jsx("input",{type:"text",name:"scentOptions",id:"scentOptions",value:s.scentOptions.join(", "),onChange:a=>b("scentOptions",a.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla, Rose, Oud"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu for the customer. Stock management per scent coming soon"})]});case"Reed Diffusers":return e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"scentOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent Options (Comma separated)"}),e.jsx("input",{type:"text",name:"scentOptions",id:"scentOptions",value:s.scentOptions.join(", "),onChange:a=>b("scentOptions",a.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla, Rose, Oud"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu for the customer."})]});case"Wax Melts":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"weightOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight Options (Comma separated)"}),e.jsx("input",{type:"text",name:"weightOptions",id:"weightOptions",value:s.weightOptions.join(", "),onChange:a=>b("weightOptions",a.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 50g, 100g, 200g"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu."})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"scentOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent Options (Comma separated)"}),e.jsx("input",{type:"text",name:"scentOptions",id:"scentOptions",value:s.scentOptions.join(", "),onChange:a=>b("scentOptions",a.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla, Rose, Oud"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will also appear as a dropdown menu."})]})]});case"Car Diffusers":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"shapeOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Shape Options (Comma separated)"}),e.jsx("input",{type:"text",name:"shapeOptions",id:"shapeOptions",value:s.shapeOptions.join(", "),onChange:a=>b("shapeOptions",a.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Round, Square, Heart, Star"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu. Stock management per shape coming soon"})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"scentOptions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scent Options (Comma separated)"}),e.jsx("input",{type:"text",name:"scentOptions",id:"scentOptions",value:s.scentOptions.join(", "),onChange:a=>b("scentOptions",a.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Vanilla, Rose, Oud"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"These will appear as a dropdown menu."})]})]});case"Sets":return e.jsxs("div",{className:"md:col-span-3 text-center text-gray-500 italic p-4",children:["No extra specifications needed for this category.",e.jsx("br",{}),"Use the ",e.jsx("strong",{children:"Description"})," fields to detail what is included."]});case"Fizzy Salts":return e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{htmlFor:"fizzySpecs",className:"block text-sm font-medium text-gray-700 mb-1",children:"Specifications"}),e.jsx("input",{type:"text",name:"fizzySpecs",id:"fizzySpecs",value:s.fizzySpecs,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Bath & Body Salts, 500g"})]});default:return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"burnTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Burn Time"}),e.jsx("input",{type:"text",name:"burnTime",id:"burnTime",value:s.burnTime,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 40-45 hours"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"wickType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Wick Type"}),e.jsx("input",{type:"text",name:"wickType",id:"wickType",value:s.wickType,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., Cotton, Wood"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"coverageSpace",className:"block text-sm font-medium text-gray-700 mb-1",children:"Coverage Space"}),e.jsx("input",{type:"text",name:"coverageSpace",id:"coverageSpace",value:s.coverageSpace,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"e.g., 15-20 m2 bedroom"})]})]})}};return e.jsx("div",{className:"min-h-screen bg-gray-100 p-4 sm:p-8 font-sans",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[e.jsxs("div",{id:"product-form-section",className:"bg-white shadow-xl rounded-2xl p-6 md:p-10",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6 border-b pb-4",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 flex items-center",children:[e.jsx(he,{className:"w-6 h-6 mr-2 text-indigo-600"}),x?"Edit Product":"Add New Product"]}),x&&e.jsx("button",{onClick:W,className:"text-sm font-medium text-indigo-600 hover:text-indigo-800 px-3 py-1 border border-indigo-200 rounded hover:bg-indigo-50",children:"Cancel Edit / Add New"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:x?`Updating product ID: ...${(X=s._id)==null?void 0:X.slice(-6)}. Upload images to ADD to existing.`:"Define core properties, bundle items if applicable. Uses Cloudinary."}),g&&e.jsx("div",{className:`p-3 mb-6 rounded-lg font-medium text-sm border ${g.startsWith("Error")?"bg-red-50 text-red-700 border-red-300":"bg-green-50 text-green-700 border-green-300"}`,children:g}),e.jsxs("form",{onSubmit:ke,className:"space-y-8",children:[e.jsxs("fieldset",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-200",children:[e.jsxs("legend",{className:"block text-lg font-semibold text-indigo-800 mb-3",children:[e.jsx(G,{className:"w-5 h-5 inline mr-2 align-text-bottom"})," Product Type"]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("label",{className:"flex items-center cursor-pointer bg-white p-3 rounded-xl shadow-sm transition hover:shadow-md",children:[e.jsx("input",{type:"radio",name:"productType",value:"Single",checked:s.productType==="Single",onChange:d,className:"h-5 w-5 text-indigo-600 border-gray-300 focus:ring-indigo-500"}),e.jsx("span",{className:"ml-2 font-medium text-gray-700",children:"Single Product"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer bg-white p-3 rounded-xl shadow-sm transition hover:shadow-md",children:[e.jsx("input",{type:"radio",name:"productType",value:"Bundle",checked:s.productType==="Bundle",onChange:d,className:"h-5 w-5 text-indigo-600 border-gray-300 focus:ring-indigo-500"}),e.jsx("span",{className:"ml-2 font-medium text-gray-700",children:"Product Bundle"})]})]})]}),e.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 border-t pt-6",children:[e.jsx("legend",{className:"md:col-span-2 text-xl font-bold text-gray-800 mb-4",children:" General Details "}),v?e.jsxs("div",{className:"col-span-1",children:[e.jsxs("label",{htmlFor:"bundleName",className:"block text-sm font-medium text-gray-700 mb-1",children:["Bundle Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"bundleName",id:"bundleName",value:s.bundleName,onChange:d,required:!0,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border"})]}):e.jsxs("div",{className:"col-span-1",children:[e.jsxs("label",{htmlFor:"name_en",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name (English) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name_en",id:"name_en",value:s.name_en,onChange:d,required:!0,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"category",id:"category",value:s.category,onChange:d,required:!0,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border bg-white",children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"Bundles",children:"Bundles"}),e.jsx("option",{value:"Candles",children:"Candles"}),e.jsx("option",{value:"Pottery Collection",children:"Pottery Collection"}),e.jsx("option",{value:"Wax Burners",children:"Wax Burners"}),e.jsx("option",{value:"Fresheners",children:"Fresheners"}),e.jsx("option",{value:"Wax Melts",children:"Wax Melts"}),e.jsx("option",{value:"Car Diffusers",children:"Car Diffusers"}),e.jsx("option",{value:"Reed Diffusers",children:"Reed Diffusers"}),e.jsx("option",{value:"Deodorant",children:"Deodorant"}),e.jsx("option",{value:"Soap",children:"Soap"}),e.jsx("option",{value:"Body Splash",children:"Body Splash"}),e.jsx("option",{value:"Shimmering Body Oil",children:"Shimmering Body Oil"}),e.jsx("option",{value:"Massage Candles",children:"Massage Candles"}),e.jsx("option",{value:"Fizzy Salts",children:"Fizzy Salts"}),e.jsx("option",{value:"Sets",children:"Sets"})]})]}),e.jsxs("div",{className:"md:col-span-2 flex items-center gap-x-3 pt-3",children:[e.jsx("input",{type:"checkbox",name:"featured",id:"featured",checked:s.featured,onChange:d,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"featured",className:"block text-sm font-medium text-gray-700",children:"Featured Product (Show on Homepage)"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{name:"status",id:"status",value:s.status,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border bg-white",children:[e.jsx("option",{value:"Active",children:"Active (Visible on site)"}),e.jsx("option",{value:"Inactive",children:"Inactive (Hidden from site)"})]})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsxs("label",{htmlFor:"price_egp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Price (EGP) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"price_egp",id:"price_egp",value:s.price_egp,onChange:be,required:!0,min:"0",step:"0.01",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsxs("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stock Quantity ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"stock",id:"stock",value:s.stock,onChange:fe,required:!0,min:"0",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border"})]}),!v&&e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),e.jsx("input",{type:"text",name:"size",id:"size",value:s.size,onChange:d,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:'e.g., "200 gm", "Small"'})]})]}),e.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-4 border-t pt-6",children:[e.jsx("legend",{className:"md:col-span-3 text-xl font-bold text-gray-800 mb-4",children:" Product Specifications "}),Te()]}),e.jsxs("fieldset",{className:"space-y-4 border-t pt-6",children:[e.jsx("legend",{className:"text-xl font-bold text-gray-800 mb-4",children:" Description "}),v?e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bundleDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bundle Description"}),e.jsx("textarea",{name:"bundleDescription",id:"bundleDescription",value:s.bundleDescription,onChange:d,rows:"3",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border"})]}):e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description_en",className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Description (English)"}),e.jsx("textarea",{name:"description_en",id:"description_en",value:s.description_en,onChange:d,rows:"3",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"A concise summary..."})]}),!v&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"formattedDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:"Detailed/Formatted Description (Optional)"}),e.jsx("textarea",{name:"formattedDescription",id:"formattedDescription",value:s.formattedDescription,onChange:d,rows:"5",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border",placeholder:"Use basic HTML for bold, line breaks etc..."})]})]}),e.jsxs("fieldset",{className:"border-t pt-6",children:[e.jsxs("legend",{className:"text-xl font-bold text-gray-800 mb-4",children:["Images (Max 5 total) ",!x&&e.jsx("span",{className:"text-red-500",children:"* Required for new"})]}),x&&s.imagePaths&&s.imagePaths.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Images:"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:s.imagePaths.map((t,a)=>e.jsx("div",{className:"relative group w-20 h-20 rounded-lg overflow-hidden border border-gray-200",children:e.jsx("img",{src:t,alt:`Current ${a+1}`,className:"w-full h-full object-cover"})},a))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload new images below to add more."})]}),e.jsx("input",{type:"file",id:"file-upload",multiple:!0,accept:"image/*",onChange:je,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 cursor-pointer"}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:" High-res JPG/PNG recommended. First image is the main display image. "}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-3",children:s.selectedFiles.map((t,a)=>e.jsxs("div",{className:"relative group w-20 h-20 rounded-lg overflow-hidden border border-gray-200",children:[e.jsx("img",{src:URL.createObjectURL(t),alt:`Preview ${a+1}`,className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>Ne(a),className:"absolute top-0 right-0 p-1 bg-red-600 text-white rounded-bl-lg opacity-0 group-hover:opacity-100 transition duration-300",title:"Remove image",children:e.jsx(z,{className:"w-3 h-3"})})]},a))})]}),v&&e.jsxs("fieldset",{className:"bg-yellow-50 p-6 rounded-xl border border-yellow-200 space-y-6",children:[e.jsxs("legend",{className:"text-xl font-bold text-yellow-800 flex items-center",children:[e.jsx(G,{className:"w-5 h-5 mr-2"})," Bundle Items (Up to 10)"]}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Define the components and their scent options."}),s.bundleItems.map((t,a)=>e.jsxs("div",{className:"p-4 border border-yellow-300 rounded-lg bg-white shadow-sm relative",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex justify-between items-center",children:["Item #",a+1,s.bundleItems.length>1&&e.jsx("button",{type:"button",onClick:()=>ve(a),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50 transition",title:"Remove Item",children:e.jsx(z,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:t.subProductName,onChange:o=>K(a,"subProductName",o.target.value),required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm p-2 text-sm border focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Size"}),e.jsx("input",{type:"text",value:t.size,onChange:o=>K(a,"size",o.target.value),required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm p-2 text-sm border focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., 200 gm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Allowed Scents (Comma Separated)"}),e.jsx("input",{type:"text",value:t.allowedScents.join(", "),onChange:o=>ye(a,o.target.value),required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm p-2 text-sm border focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Rose, Vanilla"})]})]})]},a)),s.bundleItems.length<10&&e.jsxs("button",{type:"button",onClick:we,className:"w-full flex items-center justify-center px-4 py-2 border border-dashed border-yellow-400 text-sm font-medium rounded-md text-yellow-800 bg-yellow-100 hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 transition",children:[e.jsx(me,{className:"w-4 h-4 mr-1"})," Add Bundle Item"]})]}),e.jsx("div",{className:"pt-6 border-t mt-8",children:e.jsx("button",{type:"submit",disabled:p,className:"w-full flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-xl shadow-lg text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out",children:p?e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"w-5 h-5 mr-3 animate-spin"})," Submitting..."]}):x?"Update Product":"Submit Product / Bundle"})})]})]}),!D&&e.jsxs("div",{id:"product-list-section",className:"bg-white shadow-xl rounded-2xl p-6 md:p-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Manage Products"}),w.length===0?e.jsx("p",{className:"text-gray-500",children:"No products found. Add one using the form above!"}):e.jsx("div",{className:"overflow-x-auto relative shadow-md sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Image"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Name"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Type"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Price (EGP)"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Stock"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Status"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Actions"})]})}),e.jsx("tbody",{children:w.map(t=>{var a,o;return e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("img",{src:((a=t.imagePaths)==null?void 0:a[0])||"https://placehold.co/40x40/cccccc/ffffff?text=?",alt:"",className:"w-10 h-10 object-cover rounded"})}),e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",children:t.name_en||t.bundleName||t.name||"N/A"}),e.jsx("td",{className:"px-4 py-3",children:t.productType}),e.jsx("td",{className:"px-4 py-3",children:(o=t.price_egp)==null?void 0:o.toFixed(2)}),e.jsx("td",{className:"px-4 py-3",children:t.stock}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsx("button",{onClick:()=>Se(t),title:"Edit",className:"text-indigo-600 hover:text-indigo-900 p-1 hover:bg-indigo-50 rounded",children:e.jsx(ue,{size:16})}),e.jsx("button",{onClick:()=>Ce(t._id,t.name_en||t.bundleName||t.name),title:"Delete",className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded",children:e.jsx(ge,{size:16})})]})]},t._id)})})]})})]}),!D&&e.jsxs("div",{id:"order-list-section",className:"bg-white shadow-xl rounded-2xl p-6 md:p-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Manage Orders"}),I.length===0?e.jsx("p",{className:"text-gray-500",children:"No orders found yet."}):e.jsx("div",{className:"overflow-x-auto relative shadow-md sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Order ID"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Date"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Customer"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Total (EGP)"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Status"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Actions"})]})}),e.jsx("tbody",{children:I.map(t=>{var a,o;return e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap truncate",style:{maxWidth:"100px"},title:t._id,children:["...",t._id.slice(-6)]}),e.jsx("td",{className:"px-4 py-3",children:new Date(t.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3",children:((a=t.customerInfo)==null?void 0:a.name)||"N/A"}),e.jsx("td",{className:"px-4 py-3",children:(o=t.totalAmount)==null?void 0:o.toFixed(2)}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("select",{value:t.status,onChange:l=>Oe(t._id,l.target.value),className:`p-1 rounded text-xs border focus:outline-none focus:ring-1 focus:ring-indigo-500 ${t.status==="Delivered"?"bg-green-100 text-green-800 border-green-300":t.status==="Shipped"?"bg-blue-100 text-blue-800 border-blue-300":t.status==="Processing"?"bg-yellow-100 text-yellow-800 border-yellow-300":t.status==="Cancelled"?"bg-red-100 text-red-800 border-red-300":"bg-gray-100 text-gray-800 border-gray-300"}`,disabled:p,children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Processing",children:"Processing"}),e.jsx("option",{value:"Shipped",children:"Shipped"}),e.jsx("option",{value:"Delivered",children:"Delivered"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>Fe(t),title:"View Details",className:"text-gray-500 hover:text-indigo-600 p-1 hover:bg-gray-100 rounded",children:e.jsx(ce,{size:16})})})]},t._id)})})]})})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 overflow-y-auto h-full w-full flex items-center justify-center z-50 p-4",onClick:A,children:e.jsxs("div",{className:"relative mx-auto p-6 border w-full max-w-2xl shadow-lg rounded-md bg-white",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Order Details (...",m._id.slice(-6),")"]}),e.jsxs("button",{onClick:A,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:[e.jsx(z,{size:20}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsxs("div",{className:"text-sm space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("div",{children:e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(m.createdAt).toLocaleString()]})}),e.jsx("div",{children:e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",m.status]})}),e.jsx("div",{children:e.jsxs("p",{children:[e.jsx("strong",{children:"Customer:"})," ",m.customerInfo.name]})}),e.jsx("div",{children:e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",m.customerInfo.email]})}),e.jsx("div",{children:e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",m.customerInfo.phone]})}),e.jsx("div",{children:e.jsxs("p",{children:[e.jsx("strong",{children:"Payment:"})," ",m.paymentMethod]})}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",m.customerInfo.address,", ",m.customerInfo.city]})}),m.customerInfo.notes&&e.jsx("div",{className:"md:col-span-2",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",m.customerInfo.notes]})})]}),e.jsx("hr",{}),e.jsx("p",{className:"font-semibold mt-4",children:e.jsx("strong",{children:"Items:"})}),e.jsx("ul",{className:"list-disc list-inside space-y-1 pl-1",children:m.items.map((t,a)=>{var o;return e.jsxs("li",{children:[t.name," x ",t.quantity," @ ",(o=t.price)==null?void 0:o.toFixed(2)," EGP",t.customization&&t.customization.length>0&&e.jsxs("span",{className:"text-xs text-gray-500",children:[" (",t.customization.join(", "),")"]})]},a)})}),e.jsx("hr",{className:"my-4"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 text-right",children:[e.jsx("p",{children:"Subtotal:"}),e.jsxs("p",{children:[(Q=m.subtotal)==null?void 0:Q.toFixed(2)," EGP"]}),e.jsx("p",{children:"Shipping:"}),e.jsxs("p",{children:[(Y=m.shippingFee)==null?void 0:Y.toFixed(2)," EGP"]}),e.jsx("p",{className:"font-bold",children:"Total:"}),e.jsxs("p",{className:"font-bold",children:[(q=m.totalAmount)==null?void 0:q.toFixed(2)," EGP"]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:A,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400",children:"Close"})})]})})]})})};N.AdminProductUploader=xe,Object.defineProperty(N,Symbol.toStringTag,{value:"Module"})});
