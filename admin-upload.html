<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Siraj Admin Panel - Product Upload</title>
    <!-- Load Tailwind CSS for styling the React component -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Optional: Add custom styles here if needed, but Tailwind classes should cover most styling */
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
    </style>
</head>
<body>
    <!-- The root element where the React component will be mounted -->
    <div id="react-root">
        <div style="text-align: center; padding-top: 50px;">
            <p style="font-size: 1.5rem; font-weight: bold; color: #4f46e5;">Loading Admin Panel...</p>
        </div>
    </div>

    <!-- Load React and ReactDOM Libraries -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- DEFINE SECRET API KEY HERE for the React component to use -->
    <script>
        // !! IMPORTANT: Change this value to a long, complex secret string !!
        const ADMIN_SECRET_KEY = "YourSecureAdminKey12345"; 
    </script>

    <!-- Load the AdminProductUploader.jsx component -->
    <!-- FIX: Using the ABSOLUTE path from the root of the site, which is often the most reliable for Netlify deployments. -->
    <script type="text/babel" src="siraj-frontend/admin/AdminProductUploader.jsk"></script>

    <script type="text/babel">
        // Get the root element
        const container = document.getElementById('react-root');

        // Check for the global variable defined above
        const apiKey = typeof ADMIN_SECRET_KEY !== 'undefined' ? ADMIN_SECRET_KEY : null;
        
        // Ensure the AdminProductUploader component is loaded (it should be exported as default)
        if (typeof AdminProductUploader !== 'undefined') {
            // Render the component and PASS the secret key as a prop
            ReactDOM.createRoot(container).render(<AdminProductUploader adminKey={apiKey} />);
        } else {
            container.innerHTML = '<p style="color: red; text-align: center; padding-top: 50px;">Error: AdminProductUploader component not found. Check the file path in the script tag!</p>';
        }
    </script>
</body>
</html>
